<!DOCTYPE html>
<html>
<head>
    <link href="css/awsdocs.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/awsdocs.min.js"></script>
    <meta charset="utf-8">
</head>
<body>
    <div id="content" style="padding: 10px 30px;">
    <h1 class="topictitle" id="aws-resource-iam-managedpolicy">AWS::IAM::ManagedPolicy</h1><p><code class="code">AWS::IAM::ManagedPolicy</code> creates an AWS Identity and Access Management (IAM) managed policy for your
                        AWS account, which you can use to apply permissions to IAM users, groups, and roles.
                        For more
                        information about managed policies, see <a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/policies_managed-vs-inline.html" target="_blank">Managed Policies and Inline
                           Policies</a> in the <em>IAM User Guide</em> guide.
                     </p><div class="highlights">
                        <p><strong>Topics</strong></p>
                        <ul>
                           <li><a href="#aws-resource-iam-managedpolicy-syntax">Syntax</a></li>
                           <li><a href="#w2ab2c21c10d689b9">Properties</a></li>
                           <li><a href="#w2ab2c21c10d689c11">Return Values</a></li>
                           <li><a href="#w2ab2c21c10d689c13">Example</a></li>
                        </ul>
                     </div><h2 id="aws-resource-iam-managedpolicy-syntax">Syntax</h2><p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p><div id="JSON" name="JSON" class="section langfilter">
                        <h3 id="aws-resource-iam-managedpolicy-syntax.json">JSON</h3>
                        
                        <pre class="programlisting"><div class="btn-copy-code-container"><div class="btn btn-copy-code">Copy</div></div><code class="nohighlight">{
  &quot;Type&quot;: &quot;AWS::IAM::ManagedPolicy&quot;,
  &quot;Properties&quot;: {
    &quot;<a href="aws-resource-iam-managedpolicy.html#cfn-iam-managedpolicy-description"><code class="code">Description</code></a>&quot; : <em class="replaceable"><code>String</code></em>,
    &quot;<a href="aws-resource-iam-managedpolicy.html#cfn-iam-managedpolicy-groups"><code class="code">Groups</code></a>&quot; : [ <em class="replaceable"><code>String, ...</code></em> ],
    &quot;<a href="aws-resource-iam-managedpolicy.html#cfn-iam-managedpolicy-path"><code class="code">Path</code></a>&quot; : <em class="replaceable"><code>String</code></em>,
    &quot;<a href="aws-resource-iam-managedpolicy.html#cfn-iam-managedpolicy-policydocument"><code class="code">PolicyDocument</code></a>&quot; : <em class="replaceable"><code>JSON object</code></em>,
    &quot;<a href="aws-resource-iam-managedpolicy.html#cfn-iam-managedpolicy-roles"><code class="code">Roles</code></a>&quot; : [ <em class="replaceable"><code>String, ...</code></em> ],
    &quot;<a href="aws-resource-iam-managedpolicy.html#cfn-iam-managedpolicy-users"><code class="code">Users</code></a>&quot; : [ <em class="replaceable"><code>String, ...</code></em> ],
    &quot;<a href="aws-resource-iam-managedpolicy.html#cfn-iam-managedpolicy-managedpolicyname"><code class="code">ManagedPolicyName</code></a>&quot; : <em class="replaceable"><code>String</code></em>
  }
}</code></pre>
                        </div><div id="YAML" name="YAML" class="section langfilter">
                        <h3 id="aws-resource-iam-managedpolicy-syntax.yaml">YAML</h3>
                        
                        <pre class="programlisting"><div class="btn-copy-code-container"><div class="btn btn-copy-code">Copy</div></div><code class="nohighlight">Type: &quot;AWS::IAM::ManagedPolicy&quot;
Properties: 
  <a href="aws-resource-iam-managedpolicy.html#cfn-iam-managedpolicy-description"><code class="code">Description</code></a>: <em class="replaceable"><code>String</code></em>
  <a href="aws-resource-iam-managedpolicy.html#cfn-iam-managedpolicy-groups"><code class="code">Groups</code></a>:
    - <em class="replaceable"><code>String</code></em>
  <a href="aws-resource-iam-managedpolicy.html#cfn-iam-managedpolicy-path"><code class="code">Path</code></a>: <em class="replaceable"><code>String</code></em>
  <a href="aws-resource-iam-managedpolicy.html#cfn-iam-managedpolicy-policydocument"><code class="code">PolicyDocument</code></a>: <em class="replaceable"><code>JSON object</code></em>
  <a href="aws-resource-iam-managedpolicy.html#cfn-iam-managedpolicy-roles"><code class="code">Roles</code></a>:
    - <em class="replaceable"><code>String</code></em>
  <a href="aws-resource-iam-managedpolicy.html#cfn-iam-managedpolicy-users"><code class="code">Users</code></a>:
    - <em class="replaceable"><code>String</code></em>
  <a href="aws-resource-iam-managedpolicy.html#cfn-iam-managedpolicy-managedpolicyname"><code class="code">ManagedPolicyName</code></a>: <em class="replaceable"><code>String</code></em>
</code></pre>
                        </div><h2 id="w2ab2c21c10d689b9">Properties</h2><div class="variablelist">
                        
                        
                        
                        
                        
                        
                        
                        
                        <dl>
                           
                           <dt><a id="cfn-iam-managedpolicy-description"></a><span class="term"><code class="code">Description</code></span></dt>
                           
                           <dd>
                              
                              <p>A description of the IAM policy. For example, describe the permissions that
                                 are defined in the policy.
                              </p>
                              
                              <p><em>Required: </em>No
                              </p>
                              
                              <p><em>Type</em>: String
                              </p>
                              
                              <p><em>Update requires</em>: <a href="http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-iam-managedpolicy-groups"></a><span class="term"><code class="code">Groups</code></span></dt>
                           
                           <dd>
                              
                              <p>The names of IAM groups to attach to this policy.</p>
                              
                              <p><em>Required: </em>No
                              </p>
                              
                              <p><em>Type</em>: List of String values
                              </p>
                              
                              <p><em>Update requires</em>: <a href="http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-iam-managedpolicy-path"></a><span class="term"><code class="code">Path</code></span></dt>
                           
                           <dd>
                              
                              <p>The path for the IAM policy. By default, the path is <code class="code">/</code>. For more
                                 information, see <a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/Using_Identifiers.html" target="_blank">IAM
                                    Identifiers</a> in the <em>IAM User Guide</em>.
                              </p>
                              
                              <p><em>Required: </em>No
                              </p>
                              
                              <p><em>Type</em>: String
                              </p>
                              
                              <p><em>Update requires</em>: <a href="http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-iam-managedpolicy-policydocument"></a><span class="term"><code class="code">PolicyDocument</code></span></dt>
                           
                           <dd>
                              
                              <p>Policies that define the permissions for this managed policy. For more
                                 information about policy syntax, see <a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements.html" target="_blank">IAM Policy Elements Reference</a> in
                                 <em>IAM User Guide</em>.
                              </p>
                              
                              <p><em>Required: </em>Yes
                              </p>
                              
                              <p><em>Type</em>: JSON object
                              </p>
                              
                              <div class="aws-note">
                                 <p class="aws-note">Note</p>
                                 <p>AWS Identity and Access Management (IAM) requires that policies be in JSON format.
                                    However, for templates formatted in YAML, you can create an IAM policy in either JSON
                                    or YAML format. AWS CloudFormation always converts a policy to JSON format before
                                    submitting it to IAM.
                                 </p>
                              </div>
                              
                              
                              <p><em>Update requires</em>: <a href="http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-iam-managedpolicy-roles"></a><span class="term"><code class="code">Roles</code></span></dt>
                           
                           <dd>
                              
                              <p>The names of IAM roles to attach to this policy.</p>
                              
                              <div class="aws-note">
                                 <p class="aws-note">Note</p>
                                 <p>If a policy has a <code class="code">Ref</code> to a role and if a resource (such as
                                    <code class="code">AWS::ECS::Service</code>) also has a <code class="code">Ref</code> to the same
                                    role, add a <code class="code">DependsOn</code> attribute to the resource so that the
                                    resource depends on the policy. This dependency ensures that the role&apos;s policy
                                    is available throughout the resource&apos;s lifecycle. For example, when you delete
                                    a stack with an <code class="code">AWS::ECS::Service</code> resource, the
                                    <code class="code">DependsOn</code> attribute ensures that the
                                    <code class="code">AWS::ECS::Service</code> resource can complete its deletion before its
                                    role&apos;s policy is deleted.
                                 </p>
                              </div>
                              
                              <p><em>Required: </em>No
                              </p>
                              
                              <p><em>Type</em>: List of String values
                              </p>
                              
                              <p><em>Update requires</em>: <a href="http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-iam-managedpolicy-users"></a><span class="term"><code class="code">Users</code></span></dt>
                           
                           <dd>
                              
                              <p>The names of users to attach to this policy.</p>
                              
                              <p><em>Required: </em>No
                              </p>
                              
                              <p><em>Type</em>: List of String values
                              </p>
                              
                              <p><em>Update requires</em>: <a href="http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-iam-managedpolicy-managedpolicyname"></a><span class="term"><code class="code">ManagedPolicyName</code></span></dt>
                           
                           <dd>
                              
                              <p>A custom, friendly name for your IAM managed policy. For valid values, see the <a href="http://docs.aws.amazon.com/IAM/latest/APIReference/API_CreatePolicy.html" target="_blank">PolicyName</a> parameter of the <code class="code">CreatePolicy</code> action in the <em>IAM API Reference</em>.
                              </p>
                              
                              <p>If you don&apos;t specify a <code class="code">PolicyName</code>, AWS CloudFormation generates a unique physical ID and uses that ID for the policy
                                 name. For more information, see <a href="aws-properties-name.html">Name Type</a>.
                              </p>
                              <div class="aws-note">
                                 <p class="aws-note">Important</p>
                                 <p>If you specify a name, you cannot perform updates that require replacement of this
                                    resource.
                                    You can perform updates that require no or some interruption. If you must replace
                                    the resource, specify a new name.
                                 </p>
                              </div>
                              
                              <p><em>Required: </em>No
                              </p>
                              
                              <p><em>Type</em>: String
                              </p>
                              
                              <p><em>Update requires</em>: <a href="http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                              
                           </dd>
                           
                        </dl>
                     </div><h2 id="w2ab2c21c10d689c11">Return Values</h2><h3 id="w2ab2c21c10d689c11b2">Ref</h3><p>When the logical ID of this resource is provided to the <code class="code">Ref</code>
                        intrinsic function, <code class="code">Ref</code> returns the ARN.
                     </p><p>In the following sample, the <code class="code">Ref</code> function returns the ARN of the
                        <code class="code">CreateTestDBPolicy</code> managed policy, such as
                        <code class="code">arn:aws:iam::123456789012:policy/teststack-CreateTestDBPolicy-16M23YE3CS700</code>.
                     </p><pre class="programlisting"><div class="btn-copy-code-container"><div class="btn btn-copy-code">Copy</div></div><code class="nohighlight ">{ &quot;Ref&quot;: &quot;CreateTestDBPolicy&quot; }</code></pre><p>For more information about using the <code class="code">Ref</code> function, see <a href="intrinsic-function-reference-ref.html">Ref</a>.
                     </p><h2 id="w2ab2c21c10d689c13">Example</h2><p>The following example creates a managed policy and associates it with the
                        <code class="code">TestDBGroup</code> group. The managed policy grants users permission to create
                        t2.micro database instances. The database must use the MySQL database engine and the
                        instance
                        name must include the prefix <code class="code">test</code>.
                     </p><div id="JSON" name="JSON" class="section langfilter">
                        <h3 id="aws-resource-iam-managedpolicy-example.json">JSON</h3>
                        
                        <pre class="programlisting"><div class="btn-copy-code-container"><div class="btn btn-copy-code">Copy</div></div><code class="json ">&quot;CreateTestDBPolicy&quot; : {
  &quot;Type&quot; : &quot;AWS::IAM::ManagedPolicy&quot;,
  &quot;Properties&quot; : {
    &quot;Description&quot; : &quot;Policy for creating a test database&quot;,
    &quot;Path&quot; : &quot;/&quot;,
    &quot;PolicyDocument&quot; :   {
      &quot;Version&quot;:&quot;2012-10-17&quot;, 
      &quot;Statement&quot; : [{
        &quot;Effect&quot; : &quot;Allow&quot;,           
        &quot;Action&quot; : &quot;rds:CreateDBInstance&quot;,
        &quot;Resource&quot; : {&quot;Fn::Join&quot; : [ &quot;&quot;, [ &quot;arn:aws:rds:&quot;, { &quot;Ref&quot; : &quot;AWS::Region&quot; }, &quot;:&quot;, { &quot;Ref&quot; : &quot;AWS::AccountId&quot; }, &quot;:db:test*&quot; ] ]}, 
        &quot;Condition&quot; : {
          &quot;StringEquals&quot; : { &quot;rds:DatabaseEngine&quot; : &quot;mysql&quot; }
        }
      },
      {
        &quot;Effect&quot; : &quot;Allow&quot;,           
        &quot;Action&quot; : &quot;rds:CreateDBInstance&quot;,
        &quot;Resource&quot; : {&quot;Fn::Join&quot; : [ &quot;&quot;, [ &quot;arn:aws:rds:&quot;, { &quot;Ref&quot; : &quot;AWS::Region&quot; }, &quot;:&quot;, { &quot;Ref&quot; : &quot;AWS::Region&quot; }, &quot;:db:test*&quot; ] ]}, 
        &quot;Condition&quot; : {
          &quot;StringEquals&quot; : { &quot;rds:DatabaseClass&quot; : &quot;db.t2.micro&quot; }
        }
      }]
    },
    &quot;Groups&quot; : [&quot;TestDBGroup&quot;]
  }
}</code></pre>
                        </div><div id="YAML" name="YAML" class="section langfilter">
                        <h3 id="aws-resource-iam-managedpolicy-example.yaml">YAML</h3>
                        
                        <pre class="programlisting"><div class="btn-copy-code-container"><div class="btn btn-copy-code">Copy</div></div><code class="yaml ">CreateTestDBPolicy: 
  Type: &quot;AWS::IAM::ManagedPolicy&quot;
  Properties: 
    Description: &quot;Policy for creating a test database&quot;
    Path: &quot;/&quot;
    PolicyDocument: 
      Version: &quot;2012-10-17&quot;
      Statement: 
        - 
          Effect: &quot;Allow&quot;
          Action: &quot;rds:CreateDBInstance&quot;
          Resource: 
            Fn::Join: 
              - &quot;&quot;
              - 
                - &quot;arn:aws:rds:&quot;
                - 
                  Ref: &quot;AWS::Region&quot;
                - &quot;:&quot;
                - 
                  Ref: &quot;AWS::AccountId&quot;
                - &quot;:db:test*&quot;
          Condition: 
            StringEquals: 
              rds:DatabaseEngine: &quot;mysql&quot;
        - 
          Effect: &quot;Allow&quot;
          Action: &quot;rds:CreateDBInstance&quot;
          Resource: 
            Fn::Join: 
              - &quot;&quot;
              - 
                - &quot;arn:aws:rds:&quot;
                - 
                  Ref: &quot;AWS::Region&quot;
                - &quot;:&quot;
                - 
                  Ref: &quot;AWS::Region&quot;
                - &quot;:db:test*&quot;
          Condition: 
            StringEquals: 
              rds:DatabaseClass: &quot;db.t2.micro&quot;
    Groups: 
      - &quot;TestDBGroup&quot;</code></pre>
                        </div></div>
</body>
</html>