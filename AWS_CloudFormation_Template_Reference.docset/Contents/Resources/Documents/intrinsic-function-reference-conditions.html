<!DOCTYPE html>
<html>
<head>
    <link href="css/awsdocs.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/awsdocs.min.js"></script>
    <meta charset="utf-8">
</head>
<body>
    <div id="content" style="padding: 10px 30px;">
    <h1 class="topictitle" id="intrinsic-function-reference-conditions">Condition Functions</h1><p>You can use intrinsic functions, such as <code class="code">Fn::If</code>, <code class="code">Fn::Equals</code>, and
                        <code class="code">Fn::Not</code>, to conditionally create stack resources. These conditions are
                        evaluated based on input parameters that you declare when you create or update a stack.
                        After
                        you define all your conditions, you can associate them with resources or resource
                        properties
                        in the Resources and Outputs sections of a template.
                     </p><p>You define all conditions in the Conditions section of a template except for
                        <code class="code">Fn::If</code> conditions. You can use the <code class="code">Fn::If</code> condition in the metadata
                        attribute, update policy attribute, and property values in the Resources section and
                        Outputs
                        sections of a template.
                     </p><p>You might use conditions when you want to reuse a template that can create resources
                        in
                        different contexts, such as a test environment versus a production environment. In
                        your
                        template, you can add an <code class="code">EnvironmentType</code> input parameter, which accepts either
                        <strong class="userinput"><code>prod</code></strong> or <strong class="userinput"><code>test</code></strong> as inputs. For the production
                        environment, you might include Amazon EC2 instances with certain capabilities; however,
                        for the test
                        environment, you want to use less capabilities to save costs. With conditions, you
                        can define
                        which resources are created and how they&apos;re configured for each environment type.
                     </p><p>For more information about the Conditions section, see <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/conditions-section-structure.html">Conditions</a>.
                     </p><div class="aws-note">
                        <p class="aws-note">Note</p>
                        <p>You can only reference other conditions and values from the Parameters and Mappings
                           sections of a template. For example, you can reference a value from an input parameter,
                           but
                           you cannot reference the logical ID of a resource in a condition.
                        </p>
                     </div><div class="highlights">
                        <p><strong>Topics</strong></p>
                        <ul>
                           <li><a href="#intrinsic-function-reference-conditions-and">Fn::And</a></li>
                           <li><a href="#intrinsic-function-reference-conditions-equals">Fn::Equals</a></li>
                           <li><a href="#intrinsic-function-reference-conditions-if">Fn::If</a></li>
                           <li><a href="#intrinsic-function-reference-conditions-not">Fn::Not</a></li>
                           <li><a href="#intrinsic-function-reference-conditions-or">Fn::Or</a></li>
                           <li><a href="#w2ab1c21c24c21c45">Supported Functions</a></li>
                           <li><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/conditions-sample-templates.html">Sample Templates</a></li>
                        </ul>
                     </div><p>Associating a Condition</p><p>To conditionally create resources, resource properties, or outputs, you must associate
                        a
                        condition with them. Add the <code class="code">Condition:</code> key and the logical ID of the condition as
                        an attribute to associate a condition, as shown in the following snippet. AWS CloudFormation
                        creates the
                        <code class="code">NewVolume</code> resource only when the <code class="code">CreateProdResources</code> condition
                        evaluates to true.
                     </p><div class="example">
                        <p class="title"><b>Example JSON</b></p>
                        <div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">&quot;NewVolume&quot; : {
  &quot;Type&quot; : &quot;AWS::EC2::Volume&quot;,
  &quot;Condition&quot; : &quot;CreateProdResources&quot;,
  &quot;Properties&quot; : {
     &quot;Size&quot; : &quot;100&quot;,
     &quot;AvailabilityZone&quot; : { &quot;Fn::GetAtt&quot; : [ &quot;EC2Instance&quot;, &quot;AvailabilityZone&quot; ]}
}</code></pre></div>
                     </div><div class="example">
                        <p class="title"><b>Example YAML</b></p>
                        <div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">
NewVolume:
  Type: &quot;AWS::EC2::Volume&quot;
  Condition: CreateProdResources
  Properties: 
    Size: 100
    AvailabilityZone: !GetAtt EC2Instance.AvailabilityZone
</code></pre></div>
                     </div><p>For the <code class="code">Fn::If</code> function, you only need to specify the condition name. The following snippet shows
                        how to use <code class="code">Fn::If</code> to conditionally specify a resource property. If the <code class="code">CreateLargeSize</code> condition is true, AWS CloudFormation sets the volume size to <code class="code">100</code>. If the condition is false, AWS CloudFormation sets the volume size to <code class="code">10</code>.
                     </p><div class="example">
                        <p class="title"><b>Example JSON</b></p>
                        <div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">&quot;NewVolume&quot; : {
  &quot;Type&quot; : &quot;AWS::EC2::Volume&quot;,
  &quot;Properties&quot; : {
    &quot;Size&quot; : {
      &quot;Fn::If&quot; : [
        &quot;CreateLargeSize&quot;,
        &quot;100&quot;,
        &quot;10&quot;
      ]},
    &quot;AvailabilityZone&quot; : { &quot;Fn::GetAtt&quot; : [ &quot;Ec2Instance&quot;, &quot;AvailabilityZone&quot; ]}
  },
  &quot;DeletionPolicy&quot; : &quot;Snapshot&quot;
}</code></pre></div>
                     </div><div class="example">
                        <p class="title"><b>Example YAML</b></p>
                        <div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">
NewVolume:
  Type: &quot;AWS::EC2::Volume&quot;
  Properties: 
    Size: 
      !If [CreateLargeSize, 100, 10]
    AvailabilityZone: !GetAtt: Ec2Instance.AvailabilityZone
  DeletionPolicy: Snapshot
</code></pre></div>
                     </div><p>You can also use conditions inside other conditions. The following snippet is from
                        the
                        <code class="code">Conditions</code> section of a template. The <code class="code">MyAndCondition</code> condition
                        includes the <code class="code">SomeOtherCondition</code> condition:
                     </p><div class="example">
                        <p class="title"><b>Example JSON</b></p>
                        <div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">&quot;MyAndCondition&quot;: {
   &quot;Fn::And&quot;: [
      {&quot;Fn::Equals&quot;: [&quot;sg-mysggroup&quot;, {&quot;Ref&quot;: &quot;ASecurityGroup&quot;}]},
      {&quot;Condition&quot;: &quot;SomeOtherCondition&quot;}
   ]
}</code></pre></div>
                     </div><div class="example">
                        <p class="title"><b>Example YAML</b></p>
                        <div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">
MyAndCondition: !And
  - !Equals [&quot;sg-mysggroup&quot;, !Ref &quot;ASecurityGroup&quot;]
  - !Condition SomeOtherCondition
</code></pre></div>
                     </div><h2 id="intrinsic-function-reference-conditions-and">Fn::And</h2><p>Returns <code class="code">true</code> if all the specified conditions evaluate to true, or returns <code class="code">false</code> if any one of the conditions evaluates to false. <code class="code">Fn::And</code> acts as an AND operator. The minimum number of conditions that you can include is
                        2, and the maximum is 10.
                     </p><h3 id="intrinsic-function-reference-conditions-and-syntax">Declaration</h3><div id="JSON" name="JSON" class="section langfilter">
                        <h4 id="intrinsic-function-reference-conditions-and-syntax.json">JSON</h4>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">&quot;Fn::And&quot;: [{<em class="replaceable"><code>condition</code></em>}, {<em class="replaceable"><code>...</code></em>}]</code></pre>
                        </div><div id="YAML" name="YAML" class="section langfilter">
                        <h4 id="intrinsic-function-reference-conditions-and-syntax.yaml">YAML</h4>
                        
                        
                        <p>Syntax for the full function name:</p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">Fn::And: [<em class="replaceable"><code>condition</code></em>]</code></pre>
                        <p>Syntax for the short form:</p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">!And [<em class="replaceable"><code>condition</code></em>]</code></pre>
                        </div><h3 id="w2ab1c21c24c21c33b6">Parameters</h3><div class="variablelist">
                        
                        
                        <dl>
                           
                           <dt><span class="term"><code class="code">condition</code></span></dt>
                           
                           <dd>
                              
                              <p>A condition that evaluates to <code class="code">true</code> or <code class="code">false</code>.
                              </p>
                              
                           </dd>
                           
                        </dl>
                     </div><h3 id="w2ab1c21c24c21c33b8">Example</h3><p>The following <code class="code">MyAndCondition</code> evaluates to true if the referenced security group name is equal to <code class="code">sg-mysggroup</code> and if <code class="code">SomeOtherCondition</code> evaluates to true:
                     </p><div id="JSON" name="JSON" class="section langfilter">
                        <h4 id="intrinsic-function-reference-conditions-and-example.json">JSON</h4>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">&quot;MyAndCondition&quot;: {
   &quot;Fn::And&quot;: [
      {&quot;Fn::Equals&quot;: [&quot;sg-mysggroup&quot;, {&quot;Ref&quot;: &quot;ASecurityGroup&quot;}]},
      {&quot;Condition&quot;: &quot;SomeOtherCondition&quot;}
   ]
}</code></pre>
                        </div><div id="YAML" name="YAML" class="section langfilter">
                        <h4 id="intrinsic-function-reference-conditions-and-example.yaml">YAML</h4>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">MyAndCondition: !And
  - !Equals [&quot;sg-mysggroup&quot;, !Ref ASecurityGroup]
  - !Condition SomeOtherCondition
</code></pre>
                        </div><h2 id="intrinsic-function-reference-conditions-equals">Fn::Equals</h2><p>Compares if two values are equal. Returns <code class="code">true</code> if the two values are equal or <code class="code">false</code> if they aren&apos;t.
                     </p><h3 id="intrinsic-function-reference-conditions-equals-syntax">Declaration</h3><div id="JSON" name="JSON" class="section langfilter">
                        <h4 id="intrinsic-function-reference-conditions-equals-syntax.json">JSON</h4>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">&quot;Fn::Equals&quot;&#xA0;: [&quot;<em class="replaceable"><code>value_1</code></em>&quot;, &quot;<em class="replaceable"><code>value_2</code></em>&quot;]</code></pre>
                        </div><div id="YAML" name="YAML" class="section langfilter">
                        <h4 id="intrinsic-function-reference-conditions-equals-syntax.yaml">YAML</h4>
                        
                        
                        <p>Syntax for the full function name:</p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">Fn::Equals: [<em class="replaceable"><code>value_1</code></em>, <em class="replaceable"><code>value_2</code></em>]</code></pre>
                        <p>Syntax for the short form:</p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">!Equals [<em class="replaceable"><code>value_1</code></em>, <em class="replaceable"><code>value_2</code></em>]</code></pre>
                        </div><h3 id="w2ab1c21c24c21c35b6">Parameters</h3><div class="variablelist">
                        
                        
                        <dl>
                           
                           <dt><span class="term"><code class="code">value</code></span></dt>
                           
                           <dd>
                              
                              <p>A value of any type that you want to compare.</p>
                              
                           </dd>
                           
                        </dl>
                     </div><h3 id="w2ab1c21c24c21c35b8">Example</h3><p>The following <code class="code">UseProdCondition</code> condition evaluates to true if the value for the <code class="code">EnvironmentType</code> parameter is equal to <code class="code">prod</code>:
                     </p><div id="JSON" name="JSON" class="section langfilter">
                        <h4 id="intrinsic-function-reference-conditions-equals-example.json">JSON</h4>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">&quot;UseProdCondition&quot; : {
   &quot;Fn::Equals&quot;: [
      {&quot;Ref&quot;: &quot;EnvironmentType&quot;},
      &quot;prod&quot;
   ]
}</code></pre>
                        </div><div id="YAML" name="YAML" class="section langfilter">
                        <h4 id="intrinsic-function-reference-conditions-equals-example.yaml">YAML</h4>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">UseProdCondition:
  !Equals [!Ref EnvironmentType, prod]
</code></pre>
                        </div><h2 id="intrinsic-function-reference-conditions-if">Fn::If</h2><p>Returns one value if the specified condition evaluates to <code class="code">true</code> and another
                        value if the specified condition evaluates to <code class="code">false</code>. Currently, AWS CloudFormation supports
                        the <code class="code">Fn::If</code> intrinsic function in the metadata attribute, update policy attribute,
                        and property values in the Resources section and Outputs sections of a template. You
                        can use
                        the <code class="code">AWS::NoValue</code> pseudo parameter as a return value to remove the corresponding
                        property.
                     </p><h3 id="intrinsic-function-reference-conditions-if-syntax">Declaration</h3><div id="JSON" name="JSON" class="section langfilter">
                        <h4 id="intrinsic-function-reference-conditions-if-syntax.json">JSON</h4>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">&quot;Fn::If&quot;: [<em class="replaceable"><code>condition_name</code></em>, <em class="replaceable"><code>value_if_true</code></em>, <em class="replaceable"><code>value_if_false</code></em>]</code></pre>
                        </div><div id="YAML" name="YAML" class="section langfilter">
                        <h4 id="intrinsic-function-reference-conditions-if-syntax.yaml">YAML</h4>
                        
                        
                        <p>Syntax for the full function name:</p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">Fn::If: [<em class="replaceable"><code>condition_name</code></em>, <em class="replaceable"><code>value_if_true</code></em>, <em class="replaceable"><code>value_if_false</code></em>]</code></pre>
                        <p>Syntax for the short form:</p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">!If [<em class="replaceable"><code>condition_name</code></em>, <em class="replaceable"><code>value_if_true</code></em>, <em class="replaceable"><code>value_if_false</code></em>]</code></pre>
                        </div><h3 id="w2ab1c21c24c21c39b6">Parameters</h3><div class="variablelist">
                        
                        
                        
                        
                        <dl>
                           
                           <dt><span class="term"><code class="code">condition_name</code></span></dt>
                           
                           <dd>
                              
                              <p>A reference to a condition in the Conditions section. Use the condition&apos;s
                                 name to reference it.
                              </p>
                              
                           </dd>
                           
                           
                           <dt><span class="term"><code class="code">value_if_true</code></span></dt>
                           
                           <dd>
                              
                              <p>A value to be returned if the specified condition evaluates to
                                 <code class="code">true</code>.
                              </p>
                              
                           </dd>
                           
                           
                           <dt><span class="term"><code class="code">value_if_false</code></span></dt>
                           
                           <dd>
                              
                              <p>A value to be returned if the specified condition evaluates to
                                 <code class="code">false</code>.
                              </p>
                              
                           </dd>
                           
                        </dl>
                     </div><h3 id="w2ab1c21c24c21c39b8">Examples</h3><p>To view additional samples, see <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/conditions-sample-templates.html">Sample Templates</a>.
                     </p><h4 id="w2ab1c21c24c21c39b8b4">Example 1</h4><p>The following snippet uses an <code class="code">Fn::If</code> function in the <code class="code">SecurityGroups</code> property for an Amazon EC2 resource. If the <code class="code">CreateNewSecurityGroup</code> condition evaluates to true, AWS CloudFormation uses the referenced value of <code class="code">NewSecurityGroup</code> to specify the <code class="code">SecurityGroups</code> property; otherwise, AWS CloudFormation uses the referenced value of <code class="code">ExistingSecurityGroup</code>.
                     </p><div id="JSON" name="JSON" class="section langfilter">
                        <h5 id="intrinsic-function-reference-conditions-if-example1.json">JSON</h5>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">&quot;SecurityGroups&quot; : [{
  &quot;Fn::If&quot; : [
    &quot;CreateNewSecurityGroup&quot;,
    {&quot;Ref&quot; : &quot;NewSecurityGroup&quot;},
    {&quot;Ref&quot; : &quot;ExistingSecurityGroup&quot;}
  ]
}]</code></pre>
                        </div><div id="YAML" name="YAML" class="section langfilter">
                        <h5 id="intrinsic-function-reference-conditions-if-example1.yaml">YAML</h5>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">SecurityGroups:
  - !If [CreateNewSecurityGroup, !Ref NewSecurityGroup, !Ref ExistingSecurityGroup]
</code></pre>
                        </div><h4 id="w2ab1c21c24c21c39b8b6">Example 2</h4><p>In the Output section of a template, you can use the <code class="code">Fn::If</code> function to conditionally output information. In the following snippet, if the <code class="code">CreateNewSecurityGroup</code> condition evaluates to true, AWS CloudFormation outputs the security group ID of
                        the <code class="code">NewSecurityGroup</code> resource. If the condition is false, AWS CloudFormation outputs the security group
                        ID of the <code class="code">ExistingSecurityGroup</code> resource.
                     </p><div id="JSON" name="JSON" class="section langfilter">
                        <h5 id="intrinsic-function-reference-conditions-if-example2.json">JSON</h5>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">&quot;Outputs&quot; : {
  &quot;SecurityGroupId&quot; : {
    &quot;Description&quot; : &quot;Group ID of the security group used.&quot;,
    &quot;Value&quot; : {
      &quot;Fn::If&quot; : [
        &quot;CreateNewSecurityGroup&quot;,
        {&quot;Ref&quot; : &quot;NewSecurityGroup&quot;},
        {&quot;Ref&quot; : &quot;ExistingSecurityGroup&quot;}
      ]
    }
  }
}</code></pre>
                        </div><div id="YAML" name="YAML" class="section langfilter">
                        <h5 id="intrinsic-function-reference-conditions-if-example2.yaml">YAML</h5>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">Outputs:
  SecurityGroupId: 
    Description: Group ID of the security group used.
    Value: !If [CreateNewSecurityGroup, !Ref NewSecurityGroup, !Ref ExistingSecurityGroup]
</code></pre>
                        </div><h4 id="w2ab1c21c24c21c39b8b8">Example 3</h4><p>The following snippet uses the <code class="code">AWS::NoValue</code> pseudo parameter in an <code class="code">Fn::If</code> function. The condition uses a snapshot for an Amazon RDS DB instance only if a snapshot
                        ID is provided. If the <code class="code">UseDBSnapshot</code> condition evaluates to true, AWS CloudFormation uses the <code class="code">DBSnapshotName</code> parameter value for the <code class="code">DBSnapshotIdentifier</code> property. If the condition evaluates to false, AWS CloudFormation removes the <code class="code">DBSnapshotIdentifier</code> property.
                     </p><div id="JSON" name="JSON" class="section langfilter">
                        <h5 id="intrinsic-function-reference-conditions-if-example3.json">JSON</h5>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">&quot;MyDB&quot; : {
  &quot;Type&quot; : &quot;AWS::RDS::DBInstance&quot;,
  &quot;Properties&quot; : {
    &quot;AllocatedStorage&quot; : &quot;5&quot;,
    &quot;DBInstanceClass&quot; : &quot;db.m1.small&quot;,
    &quot;Engine&quot; : &quot;MySQL&quot;,
    &quot;EngineVersion&quot; : &quot;5.5&quot;,
    &quot;MasterUsername&quot; : { &quot;Ref&quot; : &quot;DBUser&quot; },
    &quot;MasterUserPassword&quot; : { &quot;Ref&quot; : &quot;DBPassword&quot; },
    &quot;DBParameterGroupName&quot; : { &quot;Ref&quot; : &quot;MyRDSParamGroup&quot; },
    &quot;DBSnapshotIdentifier&quot; : {
      &quot;Fn::If&quot; : [
        &quot;UseDBSnapshot&quot;,
        {&quot;Ref&quot; : &quot;DBSnapshotName&quot;},
        {&quot;Ref&quot; : &quot;AWS::NoValue&quot;}
      ]
    }
  }
}</code></pre>
                        </div><div id="YAML" name="YAML" class="section langfilter">
                        <h5 id="intrinsic-function-reference-conditions-if-example3.yaml">YAML</h5>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">MyDB:
  Type: &quot;AWS::RDS::DBInstance&quot;
  Properties: 
    AllocatedStorage: 5
    DBInstanceClass: db.m1.small
    Engine: MySQL
    EngineVersion: 5.5
    MasterUsername: !Ref DBUser
    MasterUserPassword: !Ref DBPassword
    DBParameterGroupName: !Ref MyRDSParamGroup
    DBSnapshotIdentifier:
      !If [UseDBSnapshot, !Ref DBSnapshotName, !Ref &quot;AWS::NoValue&quot;]
</code></pre>
                        </div><h4 id="w2ab1c21c24c21c39b8c10">Example 4</h4><p>The following snippet provides an auto scaling update policy only if the <code class="code">RollingUpdates</code> condition evaluates to true. If the condition evaluates to false, AWS CloudFormation
                        removes the <code class="code">AutoScalingRollingUpdate</code> update policy.
                     </p><div id="JSON" name="JSON" class="section langfilter">
                        <h5 id="intrinsic-function-reference-conditions-if-example4.json">JSON</h5>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">&quot;UpdatePolicy&quot;: {
  &quot;AutoScalingRollingUpdate&quot;: {
    &quot;Fn::If&quot;: [
      &quot;RollingUpdates&quot;,
      {
        &quot;MaxBatchSize&quot;: &quot;2&quot;,
        &quot;MinInstancesInService&quot;: &quot;2&quot;,
        &quot;PauseTime&quot;: &quot;PT0M30S&quot;
      },
      {
        &quot;Ref&quot; : &quot;AWS::NoValue&quot;
      }  
    ]
  }
}</code></pre>
                        </div><div id="YAML" name="YAML" class="section langfilter">
                        <h5 id="intrinsic-function-reference-conditions-if-example4.yaml">YAML</h5>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">UpdatePolicy:
  AutoScalingRollingUpdate:
    !If 
      - RollingUpdates
      -
        MaxBatchSize: 2
        MinInstancesInService: 2
        PauseTime: PT0M30S
      - !Ref &quot;AWS::NoValue&quot;
</code></pre>
                        </div><h2 id="intrinsic-function-reference-conditions-not">Fn::Not</h2><p>Returns <code class="code">true</code> for a condition that evaluates to <code class="code">false</code> or
                        returns <code class="code">false</code> for a condition that evaluates to <code class="code">true</code>.
                        <code class="code">Fn::Not</code> acts as a NOT operator.
                     </p><h3 id="intrinsic-function-reference-conditions-not-syntax">Declaration</h3><div id="JSON" name="JSON" class="section langfilter">
                        <h4 id="intrinsic-function-reference-conditions-not-syntax.json">JSON</h4>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">&quot;Fn::Not&quot;: [{<em class="replaceable"><code>condition</code></em>}]</code></pre>
                        </div><div id="YAML" name="YAML" class="section langfilter">
                        <h4 id="intrinsic-function-reference-conditions-not-syntax.yaml">YAML</h4>
                        
                        
                        <p>Syntax for the full function name:</p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">Fn::Not: [<em class="replaceable"><code>condition</code></em>]</code></pre>
                        <p>Syntax for the short form:</p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">!Not [<em class="replaceable"><code>condition</code></em>]</code></pre>
                        </div><h3 id="w2ab1c21c24c21c41b6">Parameters</h3><div class="variablelist">
                        
                        
                        <dl>
                           
                           <dt><span class="term"><code class="code">condition</code></span></dt>
                           
                           <dd>
                              
                              <p>A condition such as <code class="code">Fn::Equals</code> that evaluates to
                                 <code class="code">true</code> or <code class="code">false</code>.
                              </p>
                              
                           </dd>
                           
                        </dl>
                     </div><h3 id="w2ab1c21c24c21c41b8">Example</h3><p>The following <code class="code">EnvCondition</code> condition evaluates to true if the value for
                        the <code class="code">EnvironmentType</code> parameter is not equal to <code class="code">prod</code>:
                     </p><div id="JSON" name="JSON" class="section langfilter">
                        <h4 id="intrinsic-function-reference-conditions-not-example.json">JSON</h4>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">&quot;MyNotCondition&quot; : {
   &quot;Fn::Not&quot; : [{
      &quot;Fn::Equals&quot; : [
         {&quot;Ref&quot; : &quot;EnvironmentType&quot;},
         &quot;prod&quot;
      ]
   }]
}</code></pre>
                        </div><div id="YAML" name="YAML" class="section langfilter">
                        <h4 id="intrinsic-function-reference-conditions-not-example.yaml">YAML</h4>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">MyNotCondition:
  !Not [!Equals [!Ref EnvironmentType, prod]]
</code></pre>
                        </div><h2 id="intrinsic-function-reference-conditions-or">Fn::Or</h2><p>Returns <code class="code">true</code> if any one of the specified conditions evaluate to true, or
                        returns <code class="code">false</code> if all of the conditions evaluates to false. <code class="code">Fn::Or</code>
                        acts as an OR operator. The minimum number of conditions that you can include is 2,
                        and the
                        maximum is 10.
                     </p><h3 id="intrinsic-function-reference-conditions-or-syntax">Declaration</h3><div id="JSON" name="JSON" class="section langfilter">
                        <h4 id="intrinsic-function-reference-conditions-or-syntax.json">JSON</h4>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">&quot;Fn::Or&quot;: [{<em class="replaceable"><code>condition</code></em>}, {<em class="replaceable"><code>...</code></em>}]</code></pre>
                        </div><div id="YAML" name="YAML" class="section langfilter">
                        <h4 id="intrinsic-function-reference-conditions-or-syntax.yaml">YAML</h4>
                        
                        
                        <p>Syntax for the full function name:</p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">Fn::Or: [<em class="replaceable"><code>condition, ...</code></em>]</code></pre>
                        <p>Syntax for the short form:</p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">!Or [<em class="replaceable"><code>condition, ...</code></em>]</code></pre>
                        </div><h3 id="w2ab1c21c24c21c43b6">Parameters</h3><div class="variablelist">
                        
                        
                        <dl>
                           
                           <dt><span class="term"><code class="code">condition</code></span></dt>
                           
                           <dd>
                              
                              <p>A condition that evaluates to <code class="code">true</code> or
                                 <code class="code">false</code>.
                              </p>
                              
                           </dd>
                           
                        </dl>
                     </div><h3 id="w2ab1c21c24c21c43b8">Example</h3><p>The following <code class="code">MyOrCondition</code> evaluates to true if the referenced security
                        group name is equal to <code class="code">sg-mysggroup</code> or if <code class="code">SomeOtherCondition</code>
                        evaluates to true:
                     </p><div id="JSON" name="JSON" class="section langfilter">
                        <h4 id="intrinsic-function-reference-conditions-or-example.json">JSON</h4>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">&quot;MyOrCondition&quot; : {
   &quot;Fn::Or&quot;&#xA0;: [
      {&quot;Fn::Equals&quot;&#xA0;: [&quot;sg-mysggroup&quot;, {&quot;Ref&quot;&#xA0;: &quot;ASecurityGroup&quot;}]},
      {&quot;Condition&quot;&#xA0;: &quot;SomeOtherCondition&quot;}
   ]
}</code></pre>
                        </div><div id="YAML" name="YAML" class="section langfilter">
                        <h4 id="intrinsic-function-reference-conditions-or-example.yaml">YAML</h4>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">MyOrCondition:
  !Or [!Equals [sg-mysggroup, !Ref ASecurityGroup], Condition: SomeOtherCondition]
</code></pre>
                        </div><h2 id="w2ab1c21c24c21c45">Supported Functions</h2><p>You can use the following functions in the <code class="code">Fn::If</code> condition:
                     </p><div class="itemizedlist">
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              
                              <p><code class="code">Fn::Base64</code></p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p><code class="code">Fn::FindInMap</code></p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p><code class="code">Fn::GetAtt</code></p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p><code class="code">Fn::GetAZs</code></p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p><code class="code">Fn::If</code></p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p><code class="code">Fn::Join</code></p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p><code class="code">Fn::Select</code></p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p><code class="code">Fn::Sub</code></p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p><code class="code">Ref</code></p>
                              
                           </li>
                        </ul>
                     </div><p>You can use the following functions in all other condition functions, such as
                        <code class="code">Fn::Equals</code> and <code class="code">Fn::Or</code>:
                     </p><div class="itemizedlist">
                        
                        
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              
                              <p><code class="code">Fn::FindInMap</code></p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p><code class="code">Ref</code></p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>Other condition functions</p>
                              
                           </li>
                        </ul>
                     </div><div id="marketing-target"><span class="close-button"></span><div class="marketing-title" id="marketing-title"></div>
                        <div class="marketing-description"><span id="marketing-description"></span><span id="marketing-cta"></span></div>
                     </div></div>
</body>
</html>