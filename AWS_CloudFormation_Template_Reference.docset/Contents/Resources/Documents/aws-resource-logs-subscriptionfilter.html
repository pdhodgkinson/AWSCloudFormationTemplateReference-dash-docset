<!DOCTYPE html>
<html>
<head>
    <link href="css/awsdocs.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/awsdocs.min.js"></script>
    <meta charset="utf-8">
</head>
<body>
    <div id="content" style="padding: 10px 30px;">
    <h1 class="topictitle" id="aws-resource-logs-subscriptionfilter">AWS::Logs::SubscriptionFilter</h1><p>The <code class="code">AWS::Logs::SubscriptionFilter</code> resource creates an Amazon CloudWatch Logs (CloudWatch Logs)
                        subscription filter that defines which log events are delivered to your Kinesis stream
                        or
                        AWS Lambda (Lambda) function and where to send them.
                     </p><div class="highlights">
                        <p><strong>Topics</strong></p>
                        <ul>
                           <li><a href="#aws-resource-logs-subscriptionfilter-syntax">Syntax</a></li>
                           <li><a href="#w2ab2c21c10d806b9">Properties</a></li>
                           <li><a href="#w2ab2c21c10d806c11">Return Values</a></li>
                           <li><a href="#w2ab2c21c10d806c13">Example</a></li>
                        </ul>
                     </div><h2 id="aws-resource-logs-subscriptionfilter-syntax">Syntax</h2><p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p><div id="JSON" name="JSON" class="section langfilter">
                        <h3 id="aws-resource-logs-subscriptionfilter-syntax.json">JSON</h3>
                        
                        <pre class="programlisting"><div class="btn-copy-code-container"><div class="btn btn-copy-code">Copy</div></div><code class="nohighlight">{
  &quot;Type&quot; : &quot;AWS::Logs::SubscriptionFilter&quot;,
  &quot;Properties&quot; : {
    &quot;<a href="aws-resource-logs-subscriptionfilter.html#cfn-cwl-subscriptionfilter-destinationarn"><code class="code">DestinationArn</code></a>&quot; : <em class="replaceable"><code>String</code></em>,
    &quot;<a href="aws-resource-logs-subscriptionfilter.html#cfn-cwl-subscriptionfilter-filterpattern"><code class="code">FilterPattern</code></a>&quot; : <em class="replaceable"><code>String</code></em>,
    &quot;<a href="aws-resource-logs-subscriptionfilter.html#cfn-cwl-subscriptionfilter-loggroupname"><code class="code">LogGroupName</code></a>&quot; : <em class="replaceable"><code>String</code></em>,
    &quot;<a href="aws-resource-logs-subscriptionfilter.html#cfn-cwl-subscriptionfilter-rolearn"><code class="code">RoleArn</code></a>&quot; : <em class="replaceable"><code>String</code></em>
  }
}</code></pre>
                        </div><div id="YAML" name="YAML" class="section langfilter">
                        <h3 id="aws-resource-logs-subscriptionfilter-syntax.yaml">YAML</h3>
                        
                        <pre class="programlisting"><div class="btn-copy-code-container"><div class="btn btn-copy-code">Copy</div></div><code class="nohighlight">Type: &quot;AWS::Logs::SubscriptionFilter&quot;
Properties: 
  <a href="aws-resource-logs-subscriptionfilter.html#cfn-cwl-subscriptionfilter-destinationarn"><code class="code">DestinationArn</code></a>: <em class="replaceable"><code>String</code></em>
  <a href="aws-resource-logs-subscriptionfilter.html#cfn-cwl-subscriptionfilter-filterpattern"><code class="code">FilterPattern</code></a>: <em class="replaceable"><code>String</code></em>
  <a href="aws-resource-logs-subscriptionfilter.html#cfn-cwl-subscriptionfilter-loggroupname"><code class="code">LogGroupName</code></a>: <em class="replaceable"><code>String</code></em>
  <a href="aws-resource-logs-subscriptionfilter.html#cfn-cwl-subscriptionfilter-rolearn"><code class="code">RoleArn</code></a>: <em class="replaceable"><code>String</code></em>
</code></pre>
                        </div><h2 id="w2ab2c21c10d806b9">Properties</h2><div class="variablelist">
                        
                        
                        
                        
                        
                        <dl>
                           
                           <dt><a id="cfn-cwl-subscriptionfilter-destinationarn"></a><span class="term"><code class="code">DestinationArn</code></span></dt>
                           
                           <dd>
                              
                              <p>The Amazon Resource Name (ARN) of the Kinesis stream or Lambda function that you
                                 want to use as the subscription feed destination.
                              </p>
                              
                              <p><em>Required: </em>Yes
                              </p>
                              
                              <p><em>Type</em>: String
                              </p>
                              
                              <p><em>Update requires</em>: <a href="http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-cwl-subscriptionfilter-filterpattern"></a><span class="term"><code class="code">FilterPattern</code></span></dt>
                           
                           <dd>
                              
                              <p>The filtering expressions that restrict what gets delivered to the destination
                                 AWS resource. For more information about the filter pattern syntax, see <a href="http://docs.aws.amazon.com/AmazonCloudWatch/latest/DeveloperGuide/FilterAndPatternSyntax.html" target="_blank">Filter and Pattern
                                    Syntax</a> in the <em>Amazon CloudWatch User Guide</em>.
                              </p>
                              
                              <p><em>Required: </em>Yes
                              </p>
                              
                              <p><em>Type</em>: String
                              </p>
                              
                              <p><em>Update requires</em>: <a href="http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-cwl-subscriptionfilter-loggroupname"></a><span class="term"><code class="code">LogGroupName</code></span></dt>
                           
                           <dd>
                              
                              <p>The log group to associate with the subscription filter. All log events that
                                 are uploaded to this log group are filtered and delivered to the specified AWS
                                 resource if the filter pattern matches the log events.
                              </p>
                              
                              <p><em>Required: </em>Yes
                              </p>
                              
                              <p><em>Type</em>: String
                              </p>
                              
                              <p><em>Update requires</em>: <a href="http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-cwl-subscriptionfilter-rolearn"></a><span class="term"><code class="code">RoleArn</code></span></dt>
                           
                           <dd>
                              
                              <p>An IAM role that grants CloudWatch Logs permission to put data into the specified
                                 Kinesis stream. For Lambda and CloudWatch Logs destinations, don&apos;t specify this property
                                 because CloudWatch Logs gets the necessary permissions from the destination resource.
                              </p>
                              
                              <p><em>Required: </em>No
                              </p>
                              
                              <p><em>Type</em>: String
                              </p>
                              
                              <p><em>Update requires</em>: <a href="http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                              
                           </dd>
                           
                        </dl>
                     </div><h2 id="w2ab2c21c10d806c11">Return Values</h2><h3 id="w2ab2c21c10d806c11b2">Ref</h3><p>When the logical ID of this resource is provided to the <code class="code">Ref</code> intrinsic
                        function, <code class="code">Ref</code> returns the resource name.
                     </p><p>For more information about using the <code class="code">Ref</code> function, see <a href="intrinsic-function-reference-ref.html">Ref</a>.
                     </p><h2 id="w2ab2c21c10d806c13">Example</h2><p>The following example sends log events that are associated with the <code class="code">Root</code>
                        user to an Kinesis stream.
                     </p><div id="JSON" name="JSON" class="section langfilter">
                        <h3 id="aws-resource-logs-subscriptionfilter-example.json">JSON</h3>
                        
                        <pre class="programlisting"><div class="btn-copy-code-container"><div class="btn btn-copy-code">Copy</div></div><code class="nohighlight ">&quot;SubscriptionFilter&quot; : {
  &quot;Type&quot; : &quot;AWS::Logs::SubscriptionFilter&quot;,
  &quot;Properties&quot; : {
    &quot;RoleArn&quot; : { &quot;Fn::GetAtt&quot; : [ &quot;CloudWatchIAMRole&quot;, &quot;Arn&quot; ] },
    &quot;LogGroupName&quot; : { &quot;Ref&quot; : &quot;LogGroup&quot; },
    &quot;FilterPattern&quot; : &quot;{$.userIdentity.type = Root}&quot;,
    &quot;DestinationArn&quot; : { &quot;Fn::GetAtt&quot; : [ &quot;KinesisStream&quot;, &quot;Arn&quot; ] }
  }
}</code></pre>
                        </div><div id="YAML" name="YAML" class="section langfilter">
                        <h3 id="aws-resource-logs-subscriptionfilter-example.yaml">YAML</h3>
                        
                        <pre class="programlisting"><div class="btn-copy-code-container"><div class="btn btn-copy-code">Copy</div></div><code class="nohighlight ">SubscriptionFilter: 
  Type: &quot;AWS::Logs::SubscriptionFilter&quot;
  Properties: 
    RoleArn: 
      Fn::GetAtt: 
        - &quot;CloudWatchIAMRole&quot;
        - &quot;Arn&quot;
    LogGroupName: 
      Ref: &quot;LogGroup&quot;
    FilterPattern: &quot;{$.userIdentity.type = Root}&quot;
    DestinationArn: 
      Fn::GetAtt: 
        - &quot;KinesisStream&quot;
        - &quot;Arn&quot;</code></pre>
                        </div></div>
</body>
</html>