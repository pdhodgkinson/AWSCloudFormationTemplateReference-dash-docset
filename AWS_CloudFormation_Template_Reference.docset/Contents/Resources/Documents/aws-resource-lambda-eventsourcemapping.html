<!DOCTYPE html>
<html>
<head>
    <link href="css/awsdocs.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/awsdocs.min.js"></script>
    <meta charset="utf-8">
</head>
<body>
    <div id="content" style="padding: 10px 30px;">
    <h1 class="topictitle" id="aws-resource-lambda-eventsourcemapping">AWS::Lambda::EventSourceMapping</h1><p>The <code class="code">AWS::Lambda::EventSourceMapping</code> resource specifies a stream as an event
                        source for an AWS Lambda (Lambda) function. The stream can be an Kinesis stream or
                        an Amazon DynamoDB
                        (DynamoDB) stream. Lambda invokes the associated function when records are posted
                        to the stream.
                        For more information, see <a href="http://docs.aws.amazon.com/lambda/latest/dg/API_CreateEventSourceMapping.html" target="_blank">CreateEventSourceMapping</a> in the <em>AWS Lambda Developer Guide</em>.
                     </p><div class="highlights">
                        <p><strong>Topics</strong></p>
                        <ul>
                           <li><a href="#aws-resource-lambda-eventsourcemapping-syntax">Syntax</a></li>
                           <li><a href="#w2ab2c21c10d769b9">Properties</a></li>
                           <li><a href="#w2ab2c21c10d769c11">Return Values</a></li>
                           <li><a href="#w2ab2c21c10d769c13">Example</a></li>
                        </ul>
                     </div><h2 id="aws-resource-lambda-eventsourcemapping-syntax">Syntax</h2><p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p><div id="JSON" name="JSON" class="section langfilter">
                        <h3 id="aws-resource-lambda-eventsourcemapping-syntax.json">JSON</h3>
                        
                        <pre class="programlisting"><div class="btn-copy-code-container"><div class="btn btn-copy-code">Copy</div></div><code class="nohighlight">{
  &quot;Type&quot; : &quot;AWS::Lambda::EventSourceMapping&quot;,
  &quot;Properties&quot; : {
    &quot;<a href="aws-resource-lambda-eventsourcemapping.html#cfn-lambda-eventsourcemapping-batchsize"><code class="code">BatchSize</code></a>&quot; : <em class="replaceable"><code>Integer</code></em>,
    &quot;<a href="aws-resource-lambda-eventsourcemapping.html#cfn-lambda-eventsourcemapping-enabled"><code class="code">Enabled</code></a>&quot; : <em class="replaceable"><code>Boolean</code></em>,
    &quot;<a href="aws-resource-lambda-eventsourcemapping.html#cfn-lambda-eventsourcemapping-eventsourcearn"><code class="code">EventSourceArn</code></a>&quot; : <em class="replaceable"><code>String</code></em>,
    &quot;<a href="aws-resource-lambda-eventsourcemapping.html#cfn-lambda-eventsourcemapping-functionname"><code class="code">FunctionName</code></a>&quot; : <em class="replaceable"><code>String</code></em>,
    &quot;<a href="aws-resource-lambda-eventsourcemapping.html#cfn-lambda-eventsourcemapping-startingposition"><code class="code">StartingPosition</code></a>&quot; : <em class="replaceable"><code>String</code></em>
  }
}</code></pre>
                        </div><div id="YAML" name="YAML" class="section langfilter">
                        <h3 id="aws-resource-lambda-eventsourcemapping-syntax.yaml">YAML</h3>
                        
                        <pre class="programlisting"><div class="btn-copy-code-container"><div class="btn btn-copy-code">Copy</div></div><code class="nohighlight">Type: &quot;AWS::Lambda::EventSourceMapping&quot;
Properties: 
  <a href="aws-resource-lambda-eventsourcemapping.html#cfn-lambda-eventsourcemapping-batchsize"><code class="code">BatchSize</code></a>: <em class="replaceable"><code>Integer</code></em>
  <a href="aws-resource-lambda-eventsourcemapping.html#cfn-lambda-eventsourcemapping-enabled"><code class="code">Enabled</code></a>: <em class="replaceable"><code>Boolean</code></em>
  <a href="aws-resource-lambda-eventsourcemapping.html#cfn-lambda-eventsourcemapping-eventsourcearn"><code class="code">EventSourceArn</code></a>: <em class="replaceable"><code>String</code></em>
  <a href="aws-resource-lambda-eventsourcemapping.html#cfn-lambda-eventsourcemapping-functionname"><code class="code">FunctionName</code></a>: <em class="replaceable"><code>String</code></em>
  <a href="aws-resource-lambda-eventsourcemapping.html#cfn-lambda-eventsourcemapping-startingposition"><code class="code">StartingPosition</code></a>: <em class="replaceable"><code>String</code></em>
</code></pre>
                        </div><h2 id="w2ab2c21c10d769b9">Properties</h2><div class="variablelist">
                        
                        
                        
                        
                        
                        
                        <dl>
                           
                           <dt><a id="cfn-lambda-eventsourcemapping-batchsize"></a><span class="term"><code class="code">BatchSize</code></span></dt>
                           
                           <dd>
                              
                              <p>The largest number of records that Lambda retrieves from your event source when
                                 invoking your function. Your function receives an event with all the retrieved
                                 records. For the default and valid values, see <a href="http://docs.aws.amazon.com/lambda/latest/dg/API_CreateEventSourceMapping.html" target="_blank">CreateEventSourceMapping</a> in the
                                 <em>AWS Lambda Developer Guide</em>.
                              </p>
                              
                              <p><em>Required: </em>No
                              </p>
                              
                              <p><em>Type</em>: Integer
                              </p>
                              
                              <p><em>Update requires</em>: <a href="http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-lambda-eventsourcemapping-enabled"></a><span class="term"><code class="code">Enabled</code></span></dt>
                           
                           <dd>
                              
                              <p>Indicates whether Lambda begins polling the event source.</p>
                              
                              <p><em>Required: </em>No
                              </p>
                              
                              <p><em>Type</em>: Boolean
                              </p>
                              
                              <p><em>Update requires</em>: <a href="http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-lambda-eventsourcemapping-eventsourcearn"></a><span class="term"><code class="code">EventSourceArn</code></span></dt>
                           
                           <dd>
                              
                              <p>The Amazon Resource Name (ARN) of the Kinesis or DynamoDB stream that is the source
                                 of events. Any record added to this stream can invoke the Lambda function. For more
                                 information, see <a href="http://docs.aws.amazon.com/lambda/latest/dg/API_CreateEventSourceMapping.html" target="_blank">CreateEventSourceMapping</a> in the
                                 <em>AWS Lambda Developer Guide</em>.
                              </p>
                              
                              <p><em>Required: </em>Yes
                              </p>
                              
                              <p><em>Type</em>: String
                              </p>
                              
                              <p><em>Update requires</em>: <a href="http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-lambda-eventsourcemapping-functionname"></a><span class="term"><code class="code">FunctionName</code></span></dt>
                           
                           <dd>
                              
                              <p>The name or ARN of a Lambda function to invoke when Lambda detects an event on
                                 the stream.
                              </p>
                              
                              <p><em>Required: </em>Yes
                              </p>
                              
                              <p><em>Type</em>: String
                              </p>
                              
                              <p><em>Update requires</em>: <a href="http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-lambda-eventsourcemapping-startingposition"></a><span class="term"><code class="code">StartingPosition</code></span></dt>
                           
                           <dd>
                              
                              <p>The position in the stream where Lambda starts reading. For valid values, see
                                 <a href="http://docs.aws.amazon.com/lambda/latest/dg/API_CreateEventSourceMapping.html" target="_blank">CreateEventSourceMapping</a> in the
                                 <em>AWS Lambda Developer Guide</em>.
                              </p>
                              
                              <p><em>Required: </em>Yes
                              </p>
                              
                              <p><em>Type</em>: String
                              </p>
                              
                              <p><em>Update requires</em>: <a href="http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                              
                           </dd>
                           
                        </dl>
                     </div><h2 id="w2ab2c21c10d769c11">Return Values</h2><h3 id="w2ab2c21c10d769c11b2">Ref</h3><p>When the logical ID of this resource is provided to the <code class="code">Ref</code> intrinsic
                        function, <code class="code">Ref</code> returns the resource name.
                     </p><p>For more information about using the <code class="code">Ref</code> function, see <a href="intrinsic-function-reference-ref.html">Ref</a>.
                     </p><h2 id="w2ab2c21c10d769c13">Example</h2><p>The following example  associates an Kinesis stream with a Lambda function.</p><div id="JSON" name="JSON" class="section langfilter">
                        <h3 id="aws-resource-lambda-eventsourcemapping-example.json">JSON</h3>
                        
                        <pre class="programlisting"><div class="btn-copy-code-container"><div class="btn btn-copy-code">Copy</div></div><code class="nohighlight ">&quot;EventSourceMapping&quot;: {  
  &quot;Type&quot;: &quot;AWS::Lambda::EventSourceMapping&quot;,
  &quot;Properties&quot;: {
    &quot;EventSourceArn&quot; : { &quot;Fn::Join&quot; : [ &quot;&quot;, [ &quot;arn:aws:kinesis:&quot;, { &quot;Ref&quot; : &quot;AWS::Region&quot; }, &quot;:&quot;, { &quot;Ref&quot; : &quot;AWS::AccountId&quot; }, &quot;:stream/&quot;, { &quot;Ref&quot; : &quot;KinesisStream&quot; }] ] },
    &quot;FunctionName&quot; : { &quot;Fn::GetAtt&quot; : [&quot;LambdaFunction&quot;, &quot;Arn&quot;] },
    &quot;StartingPosition&quot; : &quot;TRIM_HORIZON&quot;
  }
}</code></pre>
                        </div><div id="YAML" name="YAML" class="section langfilter">
                        <h3 id="aws-resource-lambda-eventsourcemapping-example.yaml">YAML</h3>
                        
                        <pre class="programlisting"><div class="btn-copy-code-container"><div class="btn btn-copy-code">Copy</div></div><code class="nohighlight ">EventSourceMapping: 
  Type: &quot;AWS::Lambda::EventSourceMapping&quot;
  Properties: 
    EventSourceArn: 
      Fn::Join: 
        - &quot;&quot;
        - 
          - &quot;arn:aws:kinesis:&quot;
          - 
            Ref: &quot;AWS::Region&quot;
          - &quot;:&quot;
          - 
            Ref: &quot;AWS::AccountId&quot;
          - &quot;:stream/&quot;
          - 
            Ref: &quot;KinesisStream&quot;
    FunctionName: 
      Fn::GetAtt: 
        - &quot;LambdaFunction&quot;
        - &quot;Arn&quot;
    StartingPosition: &quot;TRIM_HORIZON&quot;</code></pre>
                        </div></div>
</body>
</html>