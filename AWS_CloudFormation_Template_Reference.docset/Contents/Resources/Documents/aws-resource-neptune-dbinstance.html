<!DOCTYPE html>
<html>
<head>
    <link href="css/awsdocs.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/awsdocs.min.js"></script>
    <meta charset="utf-8">
</head>
<body>
    <div id="content" style="padding: 10px 30px;">
    <h1 class="topictitle" id="aws-resource-neptune-dbinstance">AWS::Neptune::DBInstance</h1><p>The <code class="code">AWS::Neptune::DBInstance</code> type creates an Amazon Neptune DB instance.
                     </p><p>
                        <b>Updating DB Instances</b>
                        
                     </p><p>You can set a deletion policy for your DB instance to control how AWS CloudFormation
                        handles the
                        instance when the stack is deleted. For Neptune DB instances, you can choose to
                        <em>retain</em> the instance, to <em>delete</em> the
                        instance, or to <em>create a snapshot</em> of the instance. The default
                        AWS CloudFormation behavior depends on the <code class="code">DBClusterIdentifier</code> property:
                     </p><div class="itemizedlist">
                        
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              
                              <p>For <code class="code">AWS::Neptune::DBInstance</code> resources that don&apos;t specify the
                                 <code class="code">DBClusterIdentifier</code> property, AWS CloudFormation saves a snapshot of the DB
                                 instance.
                              </p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>For <code class="code">AWS::Neptune::DBInstance</code> resources that do specify the
                                 <code class="code">DBClusterIdentifier</code> property, AWS CloudFormation deletes the DB
                                 instance.
                              </p>
                              
                           </li>
                        </ul>
                     </div><p>
                        <b>Deleting DB Instances</b>
                        
                     </p><div class="aws-note">
                        <p class="aws-note">Important</p>
                        <p>If a DB instance is deleted or replaced during an update, AWS CloudFormation deletes
                           all automated
                           snapshots. However, it retains manual DB snapshots. During an update that requires
                           replacement, you can apply a stack policy to prevent DB instances from being replaced.
                        </p>
                     </div><p>When properties labeled <em>Update requires: Replacement</em> are updated,
                        AWS CloudFormation first creates a
                        replacement DB instance, changes references from other dependent resources to point
                        to
                        the replacement DB instance, and finally deletes the old DB instance.
                     </p><div class="aws-note">
                        <p class="aws-note">Important</p>
                        <p>We highly recommend that you take a snapshot of the database before updating the
                           stack. If you don&apos;t, you lose the data when AWS CloudFormation replaces your DB instance.
                           To
                           preserve your data, perform the following procedure:
                        </p>
                        <div class="orderedlist">
                           
                           
                           
                           
                           
                           <ol>
                              <li>
                                 
                                 <p>Deactivate any applications that are using the DB instance so that there&apos;s
                                    no activity on the DB instance.
                                 </p>
                                 
                              </li>
                              <li>
                                 
                                 <p>Create a snapshot of the DB instance.</p>
                                 
                              </li>
                              <li>
                                 
                                 <p>If you want to restore your instance using a DB snapshot, modify the updated
                                    template with your DB instance changes and add the
                                    <code class="code">DBSnapshotIdentifier</code> property with the ID of the DB snapshot
                                    that you want to use.
                                 </p>
                                 
                              </li>
                              <li>
                                 
                                 <p>Update the stack.</p>
                                 
                              </li>
                           </ol>
                        </div>
                     </div><h2 id="aws-resource-neptune-dbinstance-syntax">Syntax</h2><p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p><div id="JSON" name="JSON" class="section langfilter">
                        <h3 id="aws-resource-neptune-dbinstance-syntax.json">JSON</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="json ">{
  &quot;Type&quot; : &quot;AWS::Neptune::DBInstance&quot;,
  &quot;Properties&quot; : {
      &quot;<a href="#cfn-neptune-dbinstance-allowmajorversionupgrade">AllowMajorVersionUpgrade</a>&quot; : <em class="replaceable"><code>Boolean</code></em>,
      &quot;<a href="#cfn-neptune-dbinstance-autominorversionupgrade">AutoMinorVersionUpgrade</a>&quot; : <em class="replaceable"><code>Boolean</code></em>,
      &quot;<a href="#cfn-neptune-dbinstance-availabilityzone">AvailabilityZone</a>&quot; : <em class="replaceable"><code>String</code></em>,
      &quot;<a href="#cfn-neptune-dbinstance-dbclusteridentifier">DBClusterIdentifier</a>&quot; : <em class="replaceable"><code>String</code></em>,
      &quot;<a href="#cfn-neptune-dbinstance-dbinstanceclass">DBInstanceClass</a>&quot; : <em class="replaceable"><code>String</code></em>,
      &quot;<a href="#cfn-neptune-dbinstance-dbinstanceidentifier">DBInstanceIdentifier</a>&quot; : <em class="replaceable"><code>String</code></em>,
      &quot;<a href="#cfn-neptune-dbinstance-dbparametergroupname">DBParameterGroupName</a>&quot; : <em class="replaceable"><code>String</code></em>,
      &quot;<a href="#cfn-neptune-dbinstance-dbsnapshotidentifier">DBSnapshotIdentifier</a>&quot; : <em class="replaceable"><code>String</code></em>,
      &quot;<a href="#cfn-neptune-dbinstance-dbsubnetgroupname">DBSubnetGroupName</a>&quot; : <em class="replaceable"><code>String</code></em>,
      &quot;<a href="#cfn-neptune-dbinstance-preferredmaintenancewindow">PreferredMaintenanceWindow</a>&quot; : <em class="replaceable"><code>String</code></em>,
      &quot;<a href="#cfn-neptune-dbinstance-tags">Tags</a>&quot; : <em class="replaceable"><code>[ <a href="aws-properties-resource-tags.html">Tag</a>, ... ]</code></em>
    }
}
</code></pre></div><div id="YAML" name="YAML" class="section langfilter">
                        <h3 id="aws-resource-neptune-dbinstance-syntax.yaml">YAML</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="yaml ">Type: AWS::Neptune::DBInstance
Properties: 
  <a href="#cfn-neptune-dbinstance-allowmajorversionupgrade">AllowMajorVersionUpgrade</a>: <em class="replaceable"><code>Boolean</code></em>
  <a href="#cfn-neptune-dbinstance-autominorversionupgrade">AutoMinorVersionUpgrade</a>: <em class="replaceable"><code>Boolean</code></em>
  <a href="#cfn-neptune-dbinstance-availabilityzone">AvailabilityZone</a>: <em class="replaceable"><code>String</code></em>
  <a href="#cfn-neptune-dbinstance-dbclusteridentifier">DBClusterIdentifier</a>: <em class="replaceable"><code>String</code></em>
  <a href="#cfn-neptune-dbinstance-dbinstanceclass">DBInstanceClass</a>: <em class="replaceable"><code>String</code></em>
  <a href="#cfn-neptune-dbinstance-dbinstanceidentifier">DBInstanceIdentifier</a>: <em class="replaceable"><code>String</code></em>
  <a href="#cfn-neptune-dbinstance-dbparametergroupname">DBParameterGroupName</a>: <em class="replaceable"><code>String</code></em>
  <a href="#cfn-neptune-dbinstance-dbsnapshotidentifier">DBSnapshotIdentifier</a>: <em class="replaceable"><code>String</code></em>
  <a href="#cfn-neptune-dbinstance-dbsubnetgroupname">DBSubnetGroupName</a>: <em class="replaceable"><code>String</code></em>
  <a href="#cfn-neptune-dbinstance-preferredmaintenancewindow">PreferredMaintenanceWindow</a>: <em class="replaceable"><code>String</code></em>
  <a href="#cfn-neptune-dbinstance-tags">Tags</a>: <em class="replaceable"><code>
    - <a href="aws-properties-resource-tags.html">Tag</a></code></em>
</code></pre></div><h2 id="aws-resource-neptune-dbinstance-properties">Properties</h2><div class="variablelist">
                        <dl>
                           <dt><a id="cfn-neptune-dbinstance-allowmajorversionupgrade"></a><span class="term"><code class="code">AllowMajorVersionUpgrade</code></span></dt>
                           <dd>
                              
                              <p>Indicates that major version upgrades are allowed. Changing this
                                 parameter doesn&apos;t result in an outage and the change is asynchronously
                                 applied as soon as possible. This parameter must be set to true when specifying
                                 a value for the EngineVersion parameter that is a different major version than
                                 the DB instance&apos;s current version. 
                              </p>
                              
                              <p><em>Required</em>: No
                              </p>
                              <p><em>Type</em>: Boolean
                              </p>
                              <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                           </dd>
                           <dt><a id="cfn-neptune-dbinstance-autominorversionupgrade"></a><span class="term"><code class="code">AutoMinorVersionUpgrade</code></span></dt>
                           <dd>
                              
                              <p>Indicates that minor version patches are applied automatically.</p>
                              
                              <p>When updating this property, some interruptions may occur.</p>
                              
                              <p><em>Required</em>: No
                              </p>
                              <p><em>Type</em>: Boolean
                              </p>
                              <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                           </dd>
                           <dt><a id="cfn-neptune-dbinstance-availabilityzone"></a><span class="term"><code class="code">AvailabilityZone</code></span></dt>
                           <dd>
                              
                              <p>Specifies the name of the Availability Zone the DB instance is located in.</p>
                              
                              <p><em>Required</em>: No
                              </p>
                              <p><em>Type</em>: String
                              </p>
                              <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                           </dd>
                           <dt><a id="cfn-neptune-dbinstance-dbclusteridentifier"></a><span class="term"><code class="code">DBClusterIdentifier</code></span></dt>
                           <dd>
                              
                              <p>If the DB instance is a member of a DB cluster, contains the name of the DB cluster
                                 that
                                 the DB instance is a member of.
                              </p>
                              
                              <p><em>Required</em>: No
                              </p>
                              <p><em>Type</em>: String
                              </p>
                              <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                           </dd>
                           <dt><a id="cfn-neptune-dbinstance-dbinstanceclass"></a><span class="term"><code class="code">DBInstanceClass</code></span></dt>
                           <dd>
                              
                              <p>Contains the name of the compute and memory capacity class of the DB instance.</p>
                              
                              <p>If you update this property, some interruptions may occur.</p>
                              
                              <p><em>Required</em>: Yes
                              </p>
                              <p><em>Type</em>: String
                              </p>
                              <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                           </dd>
                           <dt><a id="cfn-neptune-dbinstance-dbinstanceidentifier"></a><span class="term"><code class="code">DBInstanceIdentifier</code></span></dt>
                           <dd>
                              
                              <p>Contains a user-supplied database identifier. This identifier is the unique key that
                                 identifies a DB instance.
                              </p>
                              
                              <p><em>Required</em>: No
                              </p>
                              <p><em>Type</em>: String
                              </p>
                              <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                           </dd>
                           <dt><a id="cfn-neptune-dbinstance-dbparametergroupname"></a><span class="term"><code class="code">DBParameterGroupName</code></span></dt>
                           <dd>
                              
                              <p>The name of an existing DB parameter group or a reference to an
                                 AWS::Neptune::DBParameterGroup resource created in the template.
                                 If any of the data members of the referenced parameter
                                 group are changed during an update, the DB instance might need to be restarted,
                                 which causes some interruption. If the parameter group contains static parameters,
                                 whether they were changed or not, an update triggers a reboot.
                              </p>
                              
                              <p><em>Required</em>: No
                              </p>
                              <p><em>Type</em>: String
                              </p>
                              <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                           </dd>
                           <dt><a id="cfn-neptune-dbinstance-dbsnapshotidentifier"></a><span class="term"><code class="code">DBSnapshotIdentifier</code></span></dt>
                           <dd>
                              
                              <p>This parameter is not supported.</p>
                              
                              <p>
                                 <code class="code">AWS::Neptune::DBInstance</code> does not support restoring from snapshots.
                              </p>
                              
                              <p>
                                 <code class="code">AWS::Neptune::DBCluster</code> does support restoring from snapshots.
                              </p>
                              
                              <p><em>Required</em>: No
                              </p>
                              <p><em>Type</em>: String
                              </p>
                              <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                           </dd>
                           <dt><a id="cfn-neptune-dbinstance-dbsubnetgroupname"></a><span class="term"><code class="code">DBSubnetGroupName</code></span></dt>
                           <dd>
                              
                              <p>A DB subnet group to associate with the DB instance. If you update this value,
                                 the new subnet group must be a subnet group in a new virtual private cloud
                                 (VPC).
                              </p>
                              
                              <p><em>Required</em>: No
                              </p>
                              <p><em>Type</em>: String
                              </p>
                              <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                           </dd>
                           <dt><a id="cfn-neptune-dbinstance-preferredmaintenancewindow"></a><span class="term"><code class="code">PreferredMaintenanceWindow</code></span></dt>
                           <dd>
                              
                              <p>Specifies the weekly time range during which system maintenance can occur, in Universal
                                 Coordinated Time (UTC).
                              </p>
                              
                              <p><em>Required</em>: No
                              </p>
                              <p><em>Type</em>: String
                              </p>
                              <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                           </dd>
                           <dt><a id="cfn-neptune-dbinstance-tags"></a><span class="term"><code class="code">Tags</code></span></dt>
                           <dd>
                              
                              <p>An arbitrary set of tags (key-value pairs) for this DB instance.</p>
                              
                              <p><em>Required</em>: No
                              </p>
                              <p><em>Type</em>: List of <a href="aws-properties-resource-tags.html">Tag</a></p>
                              <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                           </dd>
                        </dl>
                     </div><h2 id="aws-resource-neptune-dbinstance-return-values">Return Values</h2><h3 id="aws-resource-neptune-dbinstance-return-values-ref">Ref</h3><p>When you pass the logical ID of this resource to the intrinsic <code class="code">Ref</code> function, <code class="code">Ref</code> returns the resource name.
                     </p><p>For more information about using the <code class="code">Ref</code> function, see <a href="intrinsic-function-reference-ref.html">Ref</a>.
                     </p><h3 id="aws-resource-neptune-dbinstance-return-values-fn--getatt">Fn::GetAtt</h3><p>The <code class="code">Fn::GetAtt</code> intrinsic function returns a value for a specified attribute of this type. The following
                        are the available attributes and sample return values.
                     </p><p>For more information about using the <code class="code">Fn::GetAtt</code> intrinsic function, see <a href="intrinsic-function-reference-getatt.html">Fn::GetAtt</a>.
                     </p><h4 id="aws-resource-neptune-dbinstance-return-values-fn--getatt-fn--getatt"></h4><div class="variablelist">
                        <dl>
                           <dt><a id="Endpoint-fn::getatt"></a><span class="term"><code class="code">Endpoint</code></span></dt>
                           <dd>
                              
                              <p>The connection endpoint for the database. For example:
                                 <code class="code">mystack-mydb-1apw1j4phylrk.cg034hpkmmjt.us-east-2.rds.amazonaws.com</code>.
                              </p>
                              
                           </dd>
                           <dt><a id="Port-fn::getatt"></a><span class="term"><code class="code">Port</code></span></dt>
                           <dd>
                              
                              <p>The port number on which the database accepts connections. For example:
                                 <code class="code">8182</code>.
                              </p>
                              
                           </dd>
                        </dl>
                     </div><div id="marketing-target"><span class="close-button"></span><div class="marketing-title" id="marketing-title"></div>
                        <div class="marketing-description"><span id="marketing-description"></span><span id="marketing-cta"></span></div>
                     </div></div>
</body>
</html>