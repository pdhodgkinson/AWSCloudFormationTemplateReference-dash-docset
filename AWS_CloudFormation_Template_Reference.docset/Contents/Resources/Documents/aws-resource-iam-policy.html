<!DOCTYPE html>
<html>
<head>
    <link href="css/awsdocs.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/awsdocs.min.js"></script>
    <meta charset="utf-8">
</head>
<body>
    <div id="content" style="padding: 10px 30px;">
    <h1 class="topictitle" id="aws-resource-iam-policy">AWS::IAM::Policy</h1><p>The <code class="code">AWS::IAM::Policy</code> resource associates an IAM policy with IAM users,
                        roles, or groups. For more information about IAM policies, see <a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/policies_overview.html" target="_blank">Overview of IAM Policies</a> in the
                        <em>IAM User Guide</em> guide.
                     </p><div class="highlights">
                        <p><strong>Topics</strong></p>
                        <ul>
                           <li><a href="#aws-resource-iam-policy-syntax">Syntax</a></li>
                           <li><a href="#w2ab2c21c10d693b9">Properties</a></li>
                           <li><a href="#w2ab2c21c10d693c11">Return Values</a></li>
                           <li><a href="#w2ab2c21c10d693c13">Examples</a></li>
                        </ul>
                     </div><h2 id="aws-resource-iam-policy-syntax">Syntax</h2><p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p><div id="JSON" name="JSON" class="section langfilter">
                        <h3 id="aws-resource-iam-policy-syntax.json">JSON</h3>
                        
                        <pre class="programlisting"><div class="btn-copy-code-container"><div class="btn btn-copy-code">Copy</div></div><code class="nohighlight">{
  &quot;Type&quot; : &quot;AWS::IAM::Policy&quot;,
  &quot;Properties&quot; : { 
    &quot;<a href="aws-resource-iam-policy.html#cfn-iam-policy-groups">Groups</a>&quot; : [ <em class="replaceable"><code>String, ...</code></em> ],
    &quot;<a href="aws-resource-iam-policy.html#cfn-iam-policy-policydocument">PolicyDocument</a>&quot; : <em class="replaceable"><code>JSON object</code></em>,
    &quot;<a href="aws-resource-iam-policy.html#cfn-iam-policy-policyname">PolicyName</a>&quot; : <em class="replaceable"><code>String</code></em>,
    &quot;<a href="aws-resource-iam-policy.html#cfn-iam-policy-roles">Roles</a>&quot; : [ <em class="replaceable"><code>String, ...</code></em> ],
    &quot;<a href="aws-resource-iam-policy.html#cfn-iam-policy-users">Users</a>&quot; : [ <em class="replaceable"><code>String, ...</code></em> ]
  }
}</code></pre>
                        </div><div id="YAML" name="YAML" class="section langfilter">
                        <h3 id="aws-resource-iam-policy-syntax.yaml">YAML</h3>
                        
                        <pre class="programlisting"><div class="btn-copy-code-container"><div class="btn btn-copy-code">Copy</div></div><code class="nohighlight">Type: &quot;AWS::IAM::Policy&quot;
Properties: 
  <a href="aws-resource-iam-policy.html#cfn-iam-policy-groups">Groups</a>:
    - <em class="replaceable"><code>String</code></em>
  <a href="aws-resource-iam-policy.html#cfn-iam-policy-policydocument">PolicyDocument</a>: <em class="replaceable"><code>JSON object</code></em>
  <a href="aws-resource-iam-policy.html#cfn-iam-policy-policyname">PolicyName</a>: <em class="replaceable"><code>String</code></em>
  <a href="aws-resource-iam-policy.html#cfn-iam-policy-roles">Roles</a>:
    - <em class="replaceable"><code>String</code></em>
  <a href="aws-resource-iam-policy.html#cfn-iam-policy-users">Users</a>:
    - <em class="replaceable"><code>String</code></em>
</code></pre>
                        </div><h2 id="w2ab2c21c10d693b9">Properties</h2><div class="variablelist">
                        
                        
                        
                        
                        
                        
                        <dl>
                           
                           <dt><a id="cfn-iam-policy-groups"></a><span class="term"><code class="code">Groups</code></span></dt>
                           
                           <dd>
                              
                              <p>The names of groups to which you want to add the policy.</p>
                              
                              <p><em>Required: </em>Conditional. You must specify at least one of the following
                                 properties: <code class="code">Groups</code>, <code class="code">Roles</code>, or <code class="code">Users</code>.
                              </p>
                              
                              <p><em>Type</em>: List of String values
                              </p>
                              
                              <p><em>Update requires</em>: <a href="http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-iam-policy-policydocument"></a><span class="term"><code class="code">PolicyDocument</code></span></dt>
                           
                           <dd>
                              
                              <p>A policy document that contains permissions to add to the specified users or
                                 groups.
                              </p>
                              
                              <p><em>Required: </em>Yes
                              </p>
                              
                              <p><em>Type</em>: JSON object
                              </p>
                              
                              <div class="aws-note">
                                 <p class="aws-note">Note</p>
                                 <p>AWS Identity and Access Management (IAM) requires that policies be in JSON format.
                                    However, for templates formatted in YAML, you can create an IAM policy in either JSON
                                    or YAML format. AWS CloudFormation always converts a policy to JSON format before
                                    submitting it to IAM.
                                 </p>
                              </div>
                              
                              
                              <p><em>Update requires</em>: <a href="http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-iam-policy-policyname"></a><span class="term"><code class="code">PolicyName</code></span></dt>
                           
                           <dd>
                              
                              <p>The name of the policy. If you specify multiple policies for an entity, specify
                                 unique names. For example, if you specify a list of policies for an IAM role,
                                 each policy must have a unique name.
                              </p>
                              
                              <p><em>Required: </em>Yes
                              </p>
                              
                              <p><em>Type</em>: String
                              </p>
                              
                              <p><em>Update requires</em>: <a href="http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-iam-policy-roles"></a><span class="term"><code class="code">Roles</code></span></dt>
                           
                           <dd>
                              
                              <p>The names of <a href="aws-resource-iam-role.html">AWS::IAM::Role</a>s to
                                 which this policy will be attached.
                              </p>
                              
                              <div class="aws-note">
                                 <p class="aws-note">Note</p>
                                 <p>If a policy has a <code class="code">Ref</code> to a role and if a resource (such as
                                    <code class="code">AWS::ECS::Service</code>) also has a <code class="code">Ref</code> to the same
                                    role, add a <code class="code">DependsOn</code> attribute to the resource so that the
                                    resource depends on the policy. This dependency ensures that the role&apos;s policy
                                    is available throughout the resource&apos;s lifecycle. For example, when you delete
                                    a stack with an <code class="code">AWS::ECS::Service</code> resource, the
                                    <code class="code">DependsOn</code> attribute ensures that the
                                    <code class="code">AWS::ECS::Service</code> resource can complete its deletion before its
                                    role&apos;s policy is deleted.
                                 </p>
                              </div>
                              
                              <p><em>Required: </em>Conditional. You must specify at least one of the following
                                 properties: <code class="code">Groups</code>, <code class="code">Roles</code>, or <code class="code">Users</code>.
                              </p>
                              
                              <p><em>Type</em>: List of String values
                              </p>
                              
                              <p><em>Update requires</em>: <a href="http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-iam-policy-users"></a><span class="term"><code class="code">Users</code></span></dt>
                           
                           <dd>
                              
                              <p>The names of users for whom you want to add the policy.</p>
                              
                              <p><em>Required: </em>Conditional. You must specify at least one of the following
                                 properties: <code class="code">Groups</code>, <code class="code">Roles</code>, or <code class="code">Users</code>.
                              </p>
                              
                              <p><em>Type</em>: List of String values
                              </p>
                              
                              <p><em>Update requires</em>: <a href="http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                              
                           </dd>
                           
                        </dl>
                     </div><h2 id="w2ab2c21c10d693c11">Return Values</h2><h3 id="w2ab2c21c10d693c11b2">Ref</h3><p>When the logical ID of this resource is provided to the <code class="code">Ref</code> intrinsic
                        function, <code class="code">Ref</code> returns the resource name.
                     </p><p>For more information about using the <code class="code">Ref</code> function, see <a href="intrinsic-function-reference-ref.html">Ref</a>.
                     </p><h2 id="w2ab2c21c10d693c13">Examples</h2><h3 id="w2ab2c21c10d693c13b2">IAM Policy with policy group</h3><div id="JSON" name="JSON" class="section langfilter">
                        <h4 id="aws-resource-iam-policy-example1.json">JSON</h4>
                        
                        <pre class="programlisting"><div class="btn-copy-code-container"><div class="btn btn-copy-code">Copy</div></div><code class="json ">{
   &quot;Type&quot; : &quot;AWS::IAM::Policy&quot;,
   &quot;Properties&quot; : {
      &quot;PolicyName&quot; : &quot;CFNUsers&quot;,
      &quot;PolicyDocument&quot; : {
         &quot;Version&quot; : &quot;2012-10-17&quot;,
         &quot;Statement&quot;: [ {
         &quot;Effect&quot;   : &quot;Allow&quot;,
         &quot;Action&quot;   : [
            &quot;cloudformation:Describe*&quot;,
            &quot;cloudformation:List*&quot;,
            &quot;cloudformation:Get*&quot;
         ],
         &quot;Resource&quot; : &quot;*&quot;
         } ]
      },
      &quot;Groups&quot; : [ { &quot;Ref&quot; : &quot;CFNUserGroup&quot; } ]
   }
}</code></pre>
                        </div><div id="YAML" name="YAML" class="section langfilter">
                        <h4 id="aws-resource-iam-policy-example1.yaml">YAML</h4>
                        
                        <pre class="programlisting"><div class="btn-copy-code-container"><div class="btn btn-copy-code">Copy</div></div><code class="yaml ">Type: &quot;AWS::IAM::Policy&quot;
Properties: 
  PolicyName: &quot;CFNUsers&quot;
  PolicyDocument: 
    Version: &quot;2012-10-17&quot;
    Statement: 
      - 
        Effect: &quot;Allow&quot;
        Action: 
          - &quot;cloudformation:Describe*&quot;
          - &quot;cloudformation:List*&quot;
          - &quot;cloudformation:Get*&quot;
        Resource: &quot;*&quot;
  Groups: 
    - 
      Ref: &quot;CFNUserGroup&quot;</code></pre>
                        </div><h3 id="w2ab2c21c10d693c13b4">IAM Policy with specified role</h3><div id="JSON" name="JSON" class="section langfilter">
                        <h4 id="aws-resource-iam-policy-example2.json">JSON</h4>
                        
                        <pre class="programlisting"><div class="btn-copy-code-container"><div class="btn btn-copy-code">Copy</div></div><code class="json ">{
   &quot;Type&quot;: &quot;AWS::IAM::Policy&quot;,
   &quot;Properties&quot;: {
      &quot;PolicyName&quot;: &quot;root&quot;,
      &quot;PolicyDocument&quot;: {
         &quot;Version&quot; : &quot;2012-10-17&quot;,
         &quot;Statement&quot;: [
            { &quot;Effect&quot;: &quot;Allow&quot;, &quot;Action&quot;: &quot;*&quot;, &quot;Resource&quot;: &quot;*&quot; }
         ]
      },
      &quot;Roles&quot;: [ { &quot;Ref&quot;: &quot;RootRole&quot; } ]
   }
}</code></pre>
                        </div><div id="YAML" name="YAML" class="section langfilter">
                        <h4 id="aws-resource-iam-policy-example2.yaml">YAML</h4>
                        
                        <pre class="programlisting"><div class="btn-copy-code-container"><div class="btn btn-copy-code">Copy</div></div><code class="yaml ">Type: &quot;AWS::IAM::Policy&quot;
Properties: 
  PolicyName: &quot;root&quot;
  PolicyDocument: 
    Version: &quot;2012-10-17&quot;
    Statement: 
      - 
        Effect: &quot;Allow&quot;
        Action: &quot;*&quot;
        Resource: &quot;*&quot;
  Roles: 
    - 
      Ref: &quot;RootRole&quot;</code></pre>
                        </div></div>
</body>
</html>