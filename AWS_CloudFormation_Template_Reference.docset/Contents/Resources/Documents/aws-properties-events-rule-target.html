<!DOCTYPE html>
<html>
<head>
    <link href="css/awsdocs.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/awsdocs.min.js"></script>
    <meta charset="utf-8">
</head>
<body>
    <div id="content" style="padding: 10px 30px;">
    <h1 class="topictitle" id="aws-properties-events-rule-target">Amazon CloudWatch Events Rule Target</h1><p>The <code class="code">Target</code> property type specifies a target, such as AWS Lambda (Lambda) functions or Kinesis
                        streams, that CloudWatch Events
                        invokes when a rule is triggered.
                     </p><p>The <code class="code">Targets</code> property of the 
                        <a href="aws-resource-events-rule.html">AWS::Events::Rule</a> resource contains a list of one or more <code class="code">Target</code> property types.
                     </p><h2 id="w2ab2c21c14d267b7">Syntax</h2><div id="JSON" name="JSON" class="section langfilter">
                        <h3 id="aws-properties-events-rule-target-syntax.json">JSON</h3>
                        <pre class="programlisting"><div class="btn-copy-code-container"><div class="btn btn-copy-code">Copy</div></div><code class="nohighlight">{
  &quot;<a href="aws-properties-events-rule-target.html#cfn-events-rule-target-arn"><code class="code">Arn</code></a>&quot; : <em class="replaceable"><code>String</code></em>,
  &quot;<a href="aws-properties-events-rule-target.html#cfn-events-rule-target-ecsparameters"><code class="code">EcsParameters</code></a>&quot; : <a href="aws-properties-events-rule-ecsparameters.html"><em class="replaceable"><code>EcsParameters</code></em></a>,
  &quot;<a href="aws-properties-events-rule-target.html#cfn-events-rule-target-id"><code class="code">Id</code></a>&quot; : <em class="replaceable"><code>String</code></em>,
  &quot;<a href="aws-properties-events-rule-target.html#cfn-events-rule-target-input"><code class="code">Input</code></a>&quot; : <em class="replaceable"><code>String</code></em>,
  &quot;<a href="aws-properties-events-rule-target.html#cfn-events-rule-target-inputpath"><code class="code">InputPath</code></a>&quot; : <em class="replaceable"><code>String</code></em>,
  &quot;<a href="aws-properties-events-rule-target.html#cfn-events-rule-target-inputtransformer"><code class="code">InputTransformer</code></a>&quot; : <a href="aws-properties-events-rule-inputtransformer.html"><em class="replaceable"><code>InputTransformer</code></em></a>,
  &quot;<a href="aws-properties-events-rule-target.html#cfn-events-rule-target-kinesisparameters"><code class="code">KinesisParameters</code></a>&quot; : <a href="aws-properties-events-rule-kinesisparameters.html"><em class="replaceable"><code>KinesisParameters</code></em></a>,
  &quot;<a href="aws-properties-events-rule-target.html#cfn-events-rule-target-rolearn"><code class="code">RoleArn</code></a>&quot; : <em class="replaceable"><code>String</code></em>,
  &quot;<a href="aws-properties-events-rule-target.html#cfn-events-rule-target-runcommandparameters"><code class="code">RunCommandParameters</code></a>&quot; : <a href="aws-properties-events-rule-runcommandparameters.html"><em class="replaceable"><code>RunCommandParameters</code></em></a>
}</code></pre>
                        </div><div id="YAML" name="YAML" class="section langfilter">
                        <h3 id="aws-properties-events-rule-target-syntax.yaml">YAML</h3>
                        
                        <pre class="programlisting"><div class="btn-copy-code-container"><div class="btn btn-copy-code">Copy</div></div><code class="nohighlight"><a href="aws-properties-events-rule-target.html#cfn-events-rule-target-arn"><code class="code">Arn</code></a>: <em class="replaceable"><code>String</code></em>
<a href="aws-properties-events-rule-target.html#cfn-events-rule-target-ecsparameters"><code class="code">EcsParameters</code></a>:
  <a href="aws-properties-events-rule-ecsparameters.html"><em class="replaceable"><code>EcsParameters</code></em></a>
<a href="aws-properties-events-rule-target.html#cfn-events-rule-target-id"><code class="code">Id</code></a>: <em class="replaceable"><code>String</code></em>
<a href="aws-properties-events-rule-target.html#cfn-events-rule-target-input"><code class="code">Input</code></a>: <em class="replaceable"><code>String</code></em>
<a href="aws-properties-events-rule-target.html#cfn-events-rule-target-inputpath"><code class="code">InputPath</code></a>: <em class="replaceable"><code>String</code></em>
<a href="aws-properties-events-rule-target.html#cfn-events-rule-target-inputtransformer"><code class="code">InputTransformer</code></a>:
  <a href="aws-properties-events-rule-inputtransformer.html"><em class="replaceable"><code>InputTransformer</code></em></a>
<a href="aws-properties-events-rule-target.html#cfn-events-rule-target-kinesisparameters"><code class="code">KinesisParameters</code></a>:
  <a href="aws-properties-events-rule-kinesisparameters.html"><em class="replaceable"><code>KinesisParameters</code></em></a>
<a href="aws-properties-events-rule-target.html#cfn-events-rule-target-rolearn"><code class="code">RoleArn</code></a>: <em class="replaceable"><code>String</code></em>
<a href="aws-properties-events-rule-target.html#cfn-events-rule-target-runcommandparameters"><code class="code">RunCommandParameters</code></a>:
  <a href="aws-properties-events-rule-runcommandparameters.html"><em class="replaceable"><code>RunCommandParameters</code></em></a>
</code></pre>
                        </div><h2 id="w2ab2c21c14d267b9">Properties</h2><div class="aws-note">
                        <p class="aws-note">Note</p>
                        <p>For more information about each property, including constraints and valid values,
                           see <a href="http://docs.aws.amazon.com/AmazonCloudWatchEvents/latest/APIReference/API_Target.html" target="_blank">Amazon CloudWatch Events Rule Target</a> in the <em>Amazon CloudWatch Events API Reference</em>.
                        </p>
                     </div><div class="variablelist">
                        
                        
                        
                        
                        
                        
                                 
                        
                        
                        
                        <dl>
                           
                           <dt><a id="cfn-events-rule-target-arn"></a><span class="term"><code class="code">Arn</code></span></dt>
                           
                           <dd>
                              
                              <p>The Amazon Resource Name (ARN) of the target.</p>
                              
                              <p><em>Required: </em>Yes
                              </p>
                              
                              <p><em>Type</em>: String
                              </p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-events-rule-target-ecsparameters"></a><span class="term"><code class="code">EcsParameters</code></span></dt>
                           
                           <dd>
                              
                              <p>The Amazon ECS task definition and task count to use, if the event target is an Amazon
                                 ECS task.
                              </p>
                              
                              <p>
                                 <em>Required</em>: No
                              </p>
                              
                              <p>
                                 <em>Type</em>: <a href="aws-properties-events-rule-ecsparameters.html">CloudWatch Events Rule EcsParameters</a></p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-events-rule-target-id"></a><span class="term"><code class="code">Id</code></span></dt>
                           
                           <dd>
                              
                              
                              <p>A unique, user-defined identifier for the target. Acceptable values include
                                 alphanumeric characters, periods (<code class="code">.</code>), hyphens (<code class="code">-</code>), and
                                 underscores (<code class="code">_</code>).
                              </p>
                              
                              <p><em>Required: </em>Yes
                              </p>
                              
                              <p><em>Type</em>: String
                              </p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-events-rule-target-input"></a><span class="term"><code class="code">Input</code></span></dt>
                           
                           <dd>
                              
                              <p>A JSON-formatted text string that is passed to the target. This value overrides the
                                 matched event.
                              </p>
                              
                              <p><em>Required: </em>No. If you don&apos;t specify both this property and the <code class="code">InputPath</code> property, CloudWatch Events passes the entire matched event to the target.
                              </p>
                              
                              <p><em>Type</em>: String
                              </p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-events-rule-target-inputpath"></a><span class="term"><code class="code">InputPath</code></span></dt>
                           
                           <dd>
                              
                              <p>When you don&apos;t want to pass the entire matched event, the JSONPath that describes
                                 which part of the event to pass to the target.
                              </p>
                              
                              <p><em>Required: </em>No. If you don&apos;t specify both this property and the <code class="code">Input</code> property, CloudWatch Events passes the entire matched event to the target.
                              </p>
                              
                              <p><em>Type</em>: String
                              </p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-events-rule-target-inputtransformer"></a><span class="term"><code class="code">InputTransformer</code></span></dt>
                           
                           <dd>
                              
                              <p>Settings that provide custom input to a target based on certain event data. You can
                                 extract one or more key-value pairs 
                                 from the event, and then use that data to send customized input to the target.
                              </p>
                              
                              <p>
                                 <em>Required</em>: No
                              </p>
                              
                              <p>
                                 <em>Type</em>: <a href="aws-properties-events-rule-inputtransformer.html">CloudWatch Events Rule InputTransformer</a></p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-events-rule-target-kinesisparameters"></a><span class="term"><code class="code">KinesisParameters</code></span></dt>
                           
                           <dd>
                              
                              <p>Settings that control shard assignment, when the target is a Kinesis stream. If
                                 you don&apos;t include this parameter, <code class="code">eventId</code> is used as the partition
                                 key.
                              </p>
                              
                              <p>
                                 <em>Required</em>: No
                              </p>
                              
                              <p>
                                 <em>Type</em>: <a href="aws-properties-events-rule-kinesisparameters.html">CloudWatch Events Rule KinesisParameters</a></p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-events-rule-target-rolearn"></a><span class="term"><code class="code">RoleArn</code></span></dt>
                           
                           <dd>
                              
                              <p>The Amazon Resource Name (ARN) of the AWS Identity and Access Management (IAM) role
                                 to use for this target when 
                                 the rule is triggered. If one rule triggers multiple targets, you can use a different
                                 IAM role for each target.
                              </p>
                              
                              <div class="aws-note">
                                 <p class="aws-note">Note</p>
                                 <p>CloudWatch Events needs appropriate permissions to make API calls against the resources
                                    you own. 
                                    For Kinesis streams, CloudWatch Events relies on IAM roles.
                                    For Lambda, Amazon SNS, and Amazon SQS resources, CloudWatch Events relies on resource-based
                                    policies. 
                                    For more information, see <a href="http://docs.aws.amazon.com/AmazonCloudWatch/latest/events/resource-based-policies-cwe.html" target="_blank">
                                       Using Resource-Based Policies for CloudWatch Events</a> in the <em>Amazon CloudWatch User Guide</em>.
                                 </p>
                              </div>
                              
                              <p><em>Required: </em>No
                              </p>
                              
                              <p><em>Type</em>: String
                              </p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-events-rule-target-runcommandparameters"></a><span class="term"><code class="code">RunCommandParameters</code></span></dt>
                           
                           <dd>
                              
                              <p>Parameters used when the rule invokes Amazon EC2 Systems Manager Run Command.</p>
                              
                              <p>
                                 <em>Required</em>: No
                              </p>
                              
                              <p>
                                 <em>Type</em>: <a href="aws-properties-events-rule-runcommandparameters.html">CloudWatch Events Rule RunCommandParameters</a></p>
                              
                           </dd>
                           
                        </dl>
                     </div><h2 id="aws-properties-events-rule-target-examples">Examples</h2><p>The following examples define targets for an <code class="code">AWS::Events::Rule</code> resource. For more examples, see <a href="http://docs.aws.amazon.com/AmazonCloudWatchEvents/latest/APIReference/API_PutTargets.html#API_PutTargets_Examples" target="_blank">
                           PutTargets</a> in the <em>Amazon CloudWatch Events API Reference</em>.
                     </p><h3 id="aws-properties-events-rule-target-example1">Target with <code class="code">KinesisParameters</code></h3><p>The following snippet creates a Kinesis stream target.</p><div id="JSON" name="JSON" class="section langfilter">
                        
                        <h4 id="aws-properties-events-rule-target-example1.json">JSON</h4>
                        <pre class="programlisting"><div class="btn-copy-code-container"><div class="btn btn-copy-code">Copy</div></div><code class="nohighlight ">&quot;MyEventsRule&quot;: {
    &quot;Type&quot;: &quot;AWS::Events::Rule&quot;,
    &quot;Properties&quot;: {
        &quot;Description&quot;: &quot;Events Rule with KinesisParameters&quot;,
        &quot;EventPattern&quot;: {
            &quot;source&quot;: [
                &quot;aws.ec2&quot;
            ]
        },
        &quot;RoleArn&quot;: {
            &quot;Fn::GetAtt&quot;: [
                &quot;EventsInvokeKinesisTargetRole&quot;,
                &quot;Arn&quot;
            ]
        },
        &quot;ScheduleExpression&quot;: &quot;rate(5 minutes)&quot;,
        &quot;State&quot;: &quot;ENABLED&quot;,
        &quot;Targets&quot;: [
            {
                &quot;Arn&quot;: {
                    &quot;Fn::GetAtt&quot;: [
                        &quot;MyFirstStream&quot;,
                        &quot;Arn&quot;
                    ]
                },
                &quot;Id&quot;: &quot;Id123&quot;,
                &quot;RoleArn&quot;: {
                    &quot;Fn::GetAtt&quot;: [
                        &quot;EventsInvokeKinesisTargetRole&quot;,
                        &quot;Arn&quot;
                    ]
                },
                &quot;KinesisParameters&quot;: {
                    &quot;PartitionKeyPath&quot;: &quot;$&quot;
                }
            }
        ]
    }
}</code></pre>
                        </div><div id="YAML" name="YAML" class="section langfilter">
                        
                        <h4 id="aws-properties-events-rule-target-example1.yaml">YAML</h4>
                        <pre class="programlisting"><div class="btn-copy-code-container"><div class="btn btn-copy-code">Copy</div></div><code class="nohighlight ">MyEventsRule:
  Type: &apos;AWS::Events::Rule&apos;
  Properties:
    Description: Events Rule with KinesisParameters
    EventPattern:
      source:
        - aws.ec2
    RoleArn: !GetAtt 
      - EventsInvokeKinesisTargetRole
      - Arn
    ScheduleExpression: rate(5 minutes)
    State: ENABLED
    Targets:
      - Arn: !GetAtt 
          - MyFirstStream
          - Arn
        Id: Id123
        RoleArn: !GetAtt 
          - EventsInvokeKinesisTargetRole
          - Arn
        KinesisParameters:
          PartitionKeyPath: $</code></pre>
                        </div><h3 id="aws-properties-events-rule-target-example2">Target with <code class="code">EcsParameters</code></h3><p>The following snippet creates an Amazon ECS task target.</p><div id="JSON" name="JSON" class="section langfilter">
                        
                        <h4 id="aws-properties-events-rule-target-example2.json">JSON</h4>
                        <pre class="programlisting"><div class="btn-copy-code-container"><div class="btn btn-copy-code">Copy</div></div><code class="nohighlight ">&quot;MyEventsRule&quot;: {
  &quot;Type&quot;: &quot;AWS::Events::Rule&quot;,
  &quot;Properties&quot;: {
      &quot;Description&quot;: &quot;Events Rule with EcsParameters&quot;,
      &quot;EventPattern&quot;: {
          &quot;source&quot;: [
              &quot;aws.ec2&quot;
          ],
          &quot;detail-type&quot;: [
              &quot;EC2 Instance State-change Notification&quot;
          ],
          &quot;detail&quot;: {
              &quot;state&quot;: [
                  &quot;stopping&quot;
              ]
          }
      },
      &quot;ScheduleExpression&quot;: &quot;rate(15 minutes)&quot;,
      &quot;State&quot;: &quot;DISABLED&quot;,
      &quot;Targets&quot;: [
          {
              &quot;Arn&quot;: {
                  &quot;Fn::GetAtt&quot;: [
                      &quot;MyCluster&quot;,
                      &quot;Arn&quot;
                  ]
              },
              &quot;RoleArn&quot;: {
                  &quot;Fn::GetAtt&quot;: [
                      &quot;ECSTaskRole&quot;,
                      &quot;Arn&quot;
                  ]
              },
              &quot;Id&quot;: &quot;Id345&quot;,
              &quot;EcsParameters&quot;: {
                  &quot;TaskCount&quot;: 1,
                  &quot;TaskDefinitionArn&quot;: {
                      &quot;Ref&quot;: &quot;MyECSTask&quot;
                  }
              }
          }
      ]
  }
}</code></pre>
                        </div><div id="YAML" name="YAML" class="section langfilter">
                        
                        <h4 id="aws-properties-events-rule-target-example2.yaml">YAML</h4>
                        <pre class="programlisting"><div class="btn-copy-code-container"><div class="btn btn-copy-code">Copy</div></div><code class="nohighlight ">MyEventsRule:
  Type: &apos;AWS::Events::Rule&apos;
  Properties:
    Description: Events Rule with EcsParameters
    EventPattern:
      source:
        - aws.ec2
      detail-type:
        - EC2 Instance State-change Notification
      detail:
        state:
          - stopping
    ScheduleExpression: rate(15 minutes)
    State: DISABLED
    Targets:
      - Arn: !GetAtt 
          - MyCluster
          - Arn
        RoleArn: !GetAtt 
          - ECSTaskRole
          - Arn
        Id: Id345
        EcsParameters:
          TaskCount: 1
          TaskDefinitionArn: !Ref MyECSTask</code></pre>
                        </div></div>
</body>
</html>